<!DOCTYPE html>
<!-- saved from url=(0064)https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html -->
<html class="v2" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://www.google.com/2005/gml/b" xmlns:data="http://www.google.com/2005/gml/data" xmlns:expr="http://www.google.com/2005/gml/expr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="./Forum_LiquidCrystal_I2C_Menu_files/1529571102-css_bundle_v2.css" rel="stylesheet" type="text/css">
<meta content="973afdd833b4d34b" name="yandex-verification">
<meta content="f7zooeRcykcuNAXFUgGmGu13vXacIasnKN0nAycJ5kM" name="google-site-verification">
<meta content="f7zooeRcykcuNAXFUgGmGu13vXacIasnKN0nAycJ5kM" name="google-site-verification">
<meta content="width=1100" name="viewport">

<meta content="blogger" name="generator">
<link href="https://tsibrov.blogspot.com/favicon.ico" rel="icon" type="image/x-icon">
<link href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="Про Ардуино и не только - Atom" href="https://tsibrov.blogspot.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="Про Ардуино и не только - RSS" href="https://tsibrov.blogspot.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="Про Ардуино и не только - Atom" href="https://www.blogger.com/feeds/794788004739538112/posts/default">

<link rel="alternate" type="application/atom+xml" title="Про Ардуино и не только - Atom" href="https://tsibrov.blogspot.com/feeds/7998652808377710845/comments/default">
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/403901366-ieretrofit.js"></script>
<![endif]-->
<link href="./Forum_LiquidCrystal_I2C_Menu_files/LCI2C_Menu.jpg" rel="image_src">
<meta content="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html" property="og:url">
<meta content="LiquidCrystal_I2C_Menu - библиотека для создания меню на ЖК дисплее и Ардуино. Новые возможности" property="og:title">
<meta content="" property="og:description">
<meta content="https://1.bp.blogspot.com/-5fQl2ZwaFwQ/X1dlNilTOSI/AAAAAAAABPw/fTG-ielgYIMVvhWUbCqtUiZJ_nUaPEDEQCNcBGAsYHQ/w1200-h630-p-k-no-nu/LCI2C_Menu.jpg" property="og:image">
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>Про Ардуино и не только: LiquidCrystal_I2C_Menu - библиотека для создания меню на ЖК дисплее и Ардуино. Новые возможности</title>
<style id="page-skin-1" type="text/css"><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Simple
Designer: Blogger
URL:      www.blogger.com
----------------------------------------------- */
/* Content
----------------------------------------------- */
body {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #cccccc;
background: #292929 none repeat scroll top left;
padding: 0 40px 40px 40px;
}
html body .region-inner {
min-width: 0;
max-width: 100%;
width: auto;
}
h2 {
font-size: 22px;
}
a:link {
text-decoration:none;
color: #dd7700;
}
a:visited {
text-decoration:none;
color: #cc6600;
}
a:hover {
text-decoration:underline;
color: #cc6600;
}
.body-fauxcolumn-outer .fauxcolumn-inner {
background: transparent none repeat scroll top left;
_background-image: none;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 400px;
width: 100%;
}
.body-fauxcolumn-outer .cap-top .cap-left {
width: 100%;
background: transparent none repeat-x scroll top left;
_background-image: none;
}
.content-outer {
-moz-box-shadow: 0 0 40px rgba(0, 0, 0, .15);
-webkit-box-shadow: 0 0 5px rgba(0, 0, 0, .15);
-goog-ms-box-shadow: 0 0 10px #333333;
box-shadow: 0 0 40px rgba(0, 0, 0, .15);
margin-bottom: 1px;
}
.content-inner {
padding: 10px 10px;
}
.content-inner {
background-color: #333333;
}
/* Header
----------------------------------------------- */
.header-outer {
background: transparent none repeat-x scroll 0 -400px;
_background-image: none;
}
.Header h1 {
font: normal normal 60px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
text-shadow: -1px -1px 1px rgba(0, 0, 0, .2);
}
.Header h1 a {
color: #ffffff;
}
.Header .description {
font-size: 140%;
color: #aaaaaa;
}
.header-inner .Header .titlewrapper {
padding: 22px 30px;
}
.header-inner .Header .descriptionwrapper {
padding: 0 30px;
}
/* Tabs
----------------------------------------------- */
.tabs-inner .section:first-child {
border-top: 1px solid #404040;
}
.tabs-inner .section:first-child ul {
margin-top: -1px;
border-top: 1px solid #404040;
border-left: 0 solid #404040;
border-right: 0 solid #404040;
}
.tabs-inner .widget ul {
background: #222222 none repeat-x scroll 0 -800px;
_background-image: none;
border-bottom: 1px solid #404040;
margin-top: 0;
margin-left: -30px;
margin-right: -30px;
}
.tabs-inner .widget li a {
display: inline-block;
padding: .6em 1em;
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #999999;
border-left: 1px solid #333333;
border-right: 0 solid #404040;
}
.tabs-inner .widget li:first-child a {
border-left: none;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
color: #ffffff;
background-color: #000000;
text-decoration: none;
}
/* Columns
----------------------------------------------- */
.main-outer {
border-top: 0 solid #404040;
}
.fauxcolumn-left-outer .fauxcolumn-inner {
border-right: 1px solid #404040;
}
.fauxcolumn-right-outer .fauxcolumn-inner {
border-left: 1px solid #404040;
}
/* Headings
----------------------------------------------- */
div.widget > h2,
div.widget h2.title {
margin: 0 0 1em 0;
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
/* Widgets
----------------------------------------------- */
.widget .zippy {
color: #999999;
text-shadow: 2px 2px 1px rgba(0, 0, 0, .1);
}
.widget .popular-posts ul {
list-style: none;
}
/* Posts
----------------------------------------------- */
h2.date-header {
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
}
.date-header span {
background-color: transparent;
color: #cccccc;
padding: inherit;
letter-spacing: inherit;
margin: inherit;
}
.main-inner {
padding-top: 30px;
padding-bottom: 30px;
}
.main-inner .column-center-inner {
padding: 0 15px;
}
.main-inner .column-center-inner .section {
margin: 0 15px;
}
.post {
margin: 0 0 25px 0;
}
h3.post-title, .comments h4 {
font: normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
margin: .75em 0 0;
}
.post-body {
font-size: 110%;
line-height: 1.4;
position: relative;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img,
.BlogList .item-thumbnail img {
padding: 0;
background: #111111;
border: 1px solid #111111;
-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
}
.post-body img, .post-body .tr-caption-container {
padding: 1px;
}
.post-body .tr-caption-container {
color: #cccccc;
}
.post-body .tr-caption-container img {
padding: 0;
background: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
.post-header {
margin: 0 0 1.5em;
line-height: 1.6;
font-size: 90%;
}
.post-footer {
margin: 20px -2px 0;
padding: 5px 10px;
color: #888888;
background-color: #303030;
border-bottom: 1px solid #444444;
line-height: 1.6;
font-size: 90%;
}
#comments .comment-author {
padding-top: 1.5em;
border-top: 1px solid #404040;
background-position: 0 1.5em;
}
#comments .comment-author:first-child {
padding-top: 0;
border-top: none;
}
.avatar-image-container {
margin: .2em 0 0;
}
#comments .avatar-image-container img {
border: 1px solid #111111;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #999999;
border-bottom: 1px solid #999999;
}
.comments .comment-thread.inline-thread {
background-color: #303030;
}
.comments .continue {
border-top: 2px solid #999999;
}
/* Accents
---------------------------------------------- */
.section-columns td.columns-cell {
border-left: 1px solid #404040;
}
.blog-pager {
background: transparent none no-repeat scroll top center;
}
.blog-pager-older-link, .home-link,
.blog-pager-newer-link {
background-color: #333333;
padding: 5px;
}
.footer-outer {
border-top: 0 dashed #bbbbbb;
}
/* Mobile
----------------------------------------------- */
body.mobile  {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
.mobile .body-fauxcolumn-outer .cap-top {
background-size: 100% auto;
}
.mobile .content-outer {
-webkit-box-shadow: 0 0 3px rgba(0, 0, 0, .15);
box-shadow: 0 0 3px rgba(0, 0, 0, .15);
}
.mobile .tabs-inner .widget ul {
margin-left: 0;
margin-right: 0;
}
.mobile .post {
margin: 0;
}
.mobile .main-inner .column-center-inner .section {
margin: 0;
}
.mobile .date-header span {
padding: 0.1em 10px;
margin: 0 -10px;
}
.mobile h3.post-title {
margin: 0;
}
.mobile .blog-pager {
background: transparent none no-repeat scroll top center;
}
.mobile .footer-outer {
border-top: none;
}
.mobile .main-inner, .mobile .footer-inner {
background-color: #333333;
}
.mobile-index-contents {
color: #cccccc;
}
.mobile-link-button {
background-color: #dd7700;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .section:first-child {
border-top: none;
}
.mobile .tabs-inner .PageList .widget-content {
background-color: #000000;
color: #ffffff;
border-top: 1px solid #404040;
border-bottom: 1px solid #404040;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #404040;
}
.showpageOf{display:inline-block;font-size:90%;padding:7px 12px;vertical-align:top;line-height:20px;}
.showpagePoint{background:#333;color:#fff;display:inline-block;vertical-align:top;line-height:20px;padding:7px 12px;margin:0;font-size:14px;text-align:center;border-left:1px solid #f0f0f0;box-shadow:inset 0 1px 1px rgba(0,0,0,0.1);transition:initial}
.showpage a,.showpageNum a{display:inline-block;vertical-align:top;line-height:20px;padding:7px 12px;margin:0;font-size:14px;text-align:center;border-left:1px solid #f0f0f0;transition:color .3s}
.showpage a:hover,.showpageNum a:hover{background-color:#fefefe;color:#454545;box-shadow:inset 0 1px 1px rgba(0,0,0,0.1);transition:color .3s}
.post-related { display: inline-block; background: #333333; padding: 0px; width:100%; } .post-box .heading { margin-bottom: 10px; text-align: center; margin-top: 10px; position: relative; } .post-box .heading:after { content: "" ; position: absolute; top: 100%; left: 50%; margin-left: -11px; width: 21px; height: 1px; margin-top: 2px; background: #b565a7; } .item-related { width: 23.5%; display: block; float: left; margin-right: 10px; height: 100%; } .item-related:last-child { margin: 0!important; } .item-related .link {display: block; margin: -1px; margin-bottom: 0;} .item-related img {margin-left:0px !important; display: block; opacity: 1; width: 100%; height: 200px; object-fit: cover; } .item-related h3 { padding: 5px; font-weight: 400; font-size: 16px;} img.noops-smly { padding: 0 !important; margin-top: -2px !important; width: 19px; display: inline; }

--></style>
<style id="template-skin-1" type="text/css"><!--
body {
min-width: 1200px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 1200px;
max-width: 1200px;
_width: 1200px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 360px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 360px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("360px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 360px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 360px;
margin-right: -360px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
body#layout div.add_widget {
padding: 8px;
}
body#layout div.add_widget a {
margin-left: 32px;
}
--></style>
<script src="./Forum_LiquidCrystal_I2C_Menu_files/cb=gapi.loaded_2" async=""></script><script src="./Forum_LiquidCrystal_I2C_Menu_files/cb=gapi.loaded_1" async=""></script><script src="./Forum_LiquidCrystal_I2C_Menu_files/cb=gapi(1).loaded_0" async=""></script><script type="text/javascript" async="" src="./Forum_LiquidCrystal_I2C_Menu_files/tag.js.Без названия"></script><script async="" src="./Forum_LiquidCrystal_I2C_Menu_files/analytics.js.Без названия"></script><script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-125140221-1', 'auto', 'blogger');
      ga('blogger.send', 'pageview');
    </script>
<style>
table, th, td {
    border: 1px solid gray;
    border-collapse: collapse;
}
th, td {
    padding: 5px;
}
</style>
<link href="./Forum_LiquidCrystal_I2C_Menu_files/font-awesome.css" rel="stylesheet">
<script src="./Forum_LiquidCrystal_I2C_Menu_files/jquery.min.js.Без названия"></script>
<link href="./Forum_LiquidCrystal_I2C_Menu_files/authorization.css" media="all" onload="if(media!=&#39;all&#39;)media=&#39;all&#39;" rel="stylesheet"><noscript><link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=794788004739538112&amp;zx=ec1d08fa-6f5e-4791-a312-148297967abc' rel='stylesheet'/></noscript>
<meta name="google-adsense-platform-account" content="ca-host-pub-1556223355139109">
<meta name="google-adsense-platform-domain" content="blogspot.com">

<!-- data-ad-client=ca-pub-6077605179194379 -->

<script type="text/javascript" src="./Forum_LiquidCrystal_I2C_Menu_files/f.txt"></script><style>.gc-bubbleDefault{table-layout:auto!important}.gc-bubbleDefault,.gc-reset{background-color:transparent!important;text-align:left;padding:0!important;margin:0!important;border:0!important}.pls-bubbleTop{border-bottom:1px solid #ccc!important}.pls-contentLeft,.pls-topTail,.pls-vertShimLeft{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/border_3.gif)!important}.pls-topTail{background-repeat:repeat-x!important;background-position:bottom!important}.pls-vertShim{background-color:#fff!important;text-align:right}.tbl-grey .pls-vertShim{background-color:#f5f5f5!important}.pls-vertShimLeft{background-repeat:repeat-y!important;background-position:100%!important;height:4px}.pls-vertShimRight{height:4px}.pls-confirm-container .pls-vertShim{background-color:#fff3c2!important}.pls-contentWrap{background-color:#fff!important;position:relative!important;vertical-align:top}.pls-contentLeft{background-repeat:repeat-y;background-position:100%;vertical-align:top}.pls-dropRight{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropR_3.png)!important;background-repeat:repeat-y!important}.pls-dropBL,.pls-dropBottom,.pls-dropRight,.pls-dropTR .pls-dropBR,.pls-tailleft,.pls-vert,.pls-vert img{vertical-align:top}.pls-dropBottom{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropB_3.png)!important;background-repeat:repeat-x!important;width:100%}.pls-topLeft{text-align:right}.pls-topLeft,.pls-topRight{background:inherit!important;vertical-align:bottom}.pls-topRight{text-align:left}.pls-bottomLeft{background:inherit!important;text-align:right}.pls-bottomRight{background:inherit!important;text-align:left;vertical-align:top}.pls-tailbottom,.pls-tailleft,.pls-tailright,.pls-tailtop{display:none;position:relative}.pls-dropBL,.pls-dropBR,.pls-dropTR,.pls-tailbottom,.pls-tailleft,.pls-tailright,.pls-tailtop{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite_3.png)!important;background-repeat:no-repeat}.tbl-grey .pls-dropBL,.tbl-grey .pls-dropBR,.tbl-grey .pls-dropTR,.tbl-grey .pls-tailbottom,.tbl-grey .pls-tailleft,.tbl-grey .pls-tailright,.tbl-grey .pls-tailtop{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite-grey.png)!important}.pls-tailbottom{background-position:-23px 0}.pls-confirm-container .pls-tailbottom{background-position:-23px -10px}.pls-tailtop{background-position:-19px -20px}.pls-tailright{background-position:0 0}.pls-tailleft{background-position:-10px 0}.pls-tailtop{vertical-align:top}.gc-bubbleDefault td{line-height:0;font-size:0}.pls-tailbottom,.pls-topLeft img,.pls-topRight img{vertical-align:bottom}.bubbleDropTR,.pls-bottomLeft,.pls-bottomLeft img,.pls-dropBottom img,.pls-dropBottomL img,.pls-dropBottomR img{vertical-align:top}.pls-dropTR{background-position:0 -22px}.pls-dropBR{background-position:0 -27px}.pls-dropBL{background-position:0 -16px}.pls-spacerbottom,.pls-spacerleft,.pls-spacerright,.pls-spacertop{position:static!important}.pls-spinner{bottom:0;position:absolute;left:0;margin:auto;right:0;top:0}</style><script async="" src="./Forum_LiquidCrystal_I2C_Menu_files/lazy.min.js.Без названия"></script></head>
<body class=" variant-dark">
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter51060188 = new Ya.Metrika2({
                    id:51060188,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/tag.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks2");
</script>
<noscript><div><img alt='' src='https://mc.yandex.ru/watch/51060188' style='position:absolute; left:-9999px;'/></div></noscript>
<!-- /Yandex.Metrika counter -->
<div class="navbar section" id="navbar" name="Панель навигации"><div class="widget Navbar" data-version="1" id="Navbar1"><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"><iframe ng-non-bindable="" frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="" tabindex="0" vspace="0" width="100%" id="navbar-iframe" name="navbar-iframe" src="./Forum_LiquidCrystal_I2C_Menu_files/navbar.html"></iframe></div>
<script type="text/javascript" src="./Forum_LiquidCrystal_I2C_Menu_files/plusone.js.Без названия" gapi_processed="true"></script>
<script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d794788004739538112\x26blogName\x3d%D0%9F%D1%80%D0%BE+%D0%90%D1%80%D0%B4%D1%83%D0%B8%D0%BD%D0%BE+%D0%B8+%D0%BD%D0%B5+%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE\x26publishMode\x3dPUBLISH_MODE_BLOGSPOT\x26navbarType\x3dLIGHT\x26layoutType\x3dLAYOUTS\x26searchRoot\x3dhttps://tsibrov.blogspot.com/search\x26blogLocale\x3dru\x26v\x3d2\x26homepageUrl\x3dhttps://tsibrov.blogspot.com/\x26targetPostID\x3d7998652808377710845\x26blogPostOrPageUrl\x3dhttps://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html\x26vt\x3d8995184645507358843',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class="body-fauxcolumns">
<div class="fauxcolumn-outer body-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content">
<div class="content-fauxcolumns">
<div class="fauxcolumn-outer content-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content-outer">
<div class="content-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left content-fauxborder-left">
<div class="fauxborder-right content-fauxborder-right"></div>
<div class="content-inner">
<header>
<div class="header-outer">
<div class="header-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left header-fauxborder-left">
<div class="fauxborder-right header-fauxborder-right"></div>
<div class="region-inner header-inner">
<div class="header section" id="header" name="Заголовок"><div class="widget Header" data-version="1" id="Header1">
<div id="header-inner">
<div class="titlewrapper">
<h1 class="title">
<a href="./Forum_LiquidCrystal_I2C_Menu_files/saved_resource">
Про Ардуино и не только
</a>
</h1>
</div>
<div class="descriptionwrapper">
<p class="description"><span>
</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class="header-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</header>
<div class="tabs-outer">
<div class="tabs-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left tabs-fauxborder-left">
<div class="fauxborder-right tabs-fauxborder-right"></div>
<div class="region-inner tabs-inner">
<div class="tabs no-items section" id="crosscol" name="Поперечный столбец"></div>
<div class="tabs no-items section" id="crosscol-overflow" name="Cross-Column 2"></div>
</div>
</div>
<div class="tabs-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="main-outer">
<div class="main-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left main-fauxborder-left">
<div class="fauxborder-right main-fauxborder-right"></div>
<div class="region-inner main-inner">
<div class="columns fauxcolumns">
<div class="fauxcolumn-outer fauxcolumn-center-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-left-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-right-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class="columns-inner">
<div class="column-center-outer">
<div class="column-center-inner">
<div class="main section" id="main" name="Основной"><div class="widget Blog" data-version="1" id="Blog1">
<div class="blog-posts hfeed">

          <div class="date-outer">
        
<h2 class="date-header"><span>понедельник, 7 сентября 2020 г.</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="9/07/2020" itemprop="datePublished">
<meta content="2020-11-29T10:00:05Z" itemprop="dateModified">
<meta itemtype="https://schema.org/WebPage" itemid="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html" itemprop="mainEntityOfPage" itemscope="itemscope">
<a name="7998652808377710845"></a>
<h3 class="post-title entry-title" itemprop="headline">
LiquidCrystal_I2C_Menu - библиотека для создания меню на ЖК дисплее и Ардуино. Новые возможности
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-7998652808377710845" itemprop="description articleBody">
<div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-5fQl2ZwaFwQ/X1dlNilTOSI/AAAAAAAABPw/fTG-ielgYIMVvhWUbCqtUiZJ_nUaPEDEQCNcBGAsYHQ/s800/LCI2C_Menu.jpg" style="margin-left: 1em; margin-right: 1em;"><img alt="Меню на Ардуино" border="0" data-original-height="413" data-original-width="800" height="206" src="./Forum_LiquidCrystal_I2C_Menu_files/LCI2C_Menu.jpg" width="400"></a></div><br><div style="text-align: left;"><br></div>В одной из прошлых публикаций я писал о своей библиотеке&nbsp;LiquidCrystal_I2C_Ext для создания меню на текстовом LCD дисплее и энкодере вращения. Библиотека получилась довольно интересная. Только название, как выяснилось впоследствии, уже используется. Поэтому я принял решение переименовать её в LiquidCrystal_I2C_Menu. Кроме нового имени в ней появились и новые возможности. А недавно я сделал версию библиотеки для управления с помощью кнопок - LiquidCrystal_I2C_Menu_Btns. Итого на ваш выбор представлены две библиотеки, о которых пойдет речь в сегодняшней статье.<span><a name="more"></a></span><div style="text-align: left;"><br></div><h2 style="text-align: left;">Где качать</h2><div>Библиотеки находятся на github по ссылкам:</div><div><a href="https://github.com/VladimirTsibrov/LiquidCrystal_I2C_Menu" target="_blank">https://github.com/VladimirTsibrov/LiquidCrystal_I2C_Menu</a> - управление энкодером</div><div><a href="https://github.com/VladimirTsibrov/LiquidCrystal_I2C_Menu_Btns" target="_blank">https://github.com/VladimirTsibrov/LiquidCrystal_I2C_Menu_Btns</a>&nbsp;- управление кнопками</div><div><br></div><div>Чтобы скачать интересующую библиотеку необходимо нажать на кнопку Code, затем Download ZIP:</div><div><br></div><div><br></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-0Xy75AmaWEo/X1Ya5NmHvWI/AAAAAAAABOM/wT-hxIYOGScgRgQvkVD7-jmr2I3I_XbSACNcBGAsYHQ/s1216/LQI2C_Menu_Download.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="753" data-original-width="1216" height="388" src="./Forum_LiquidCrystal_I2C_Menu_files/LQI2C_Menu_Download.png" width="625"></a></div><br><div><br></div><div><br></div><div>Для установки библиотеки в среду Arduino распакуйте содержимое архива в папку Arduino_dir\libraries\ и удалите из названия "-master".</div><div><br></div><h2 style="text-align: left;">Как подключать</h2><div>Библиотеки предназначены для работы с дисплеями LCD2004 и LCD1602 с I2C интерфейсом. Для управления потребуются либо энкодер вращения с кнопкой, например, KY-040, либо 3-4 кнопки. Схемы их подключения к Ардуино приведены ниже:</div><div><br></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-nSFwvdJ21HY/XyZt52BI01I/AAAAAAAABNM/Isrkk7uCAFwLmbsCPmj55Fig3MlpqN5fwCNcBGAsYHQ/s1866/LiquidCrystal_I2C_Menu%2Bwiring.png" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1026" data-original-width="1866" height="352" src="./Forum_LiquidCrystal_I2C_Menu_files/LiquidCrystal_I2C_Menu wiring.png" width="640"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Схема подключения дисплея и энкодера к Ардуино для работы с LiquidCrystal_I2C_Menu</td></tr></tbody></table><div><br></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-8c6guQwhCJ8/XyZt_q-v32I/AAAAAAAABNQ/OQR5ztOfC4YYnppH_eVMj1RVDNs36cp2ACNcBGAsYHQ/s1866/LiquidCrystal_I2C_Menu_Btns%2Bwiring.png" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1341" data-original-width="1866" height="460" src="./Forum_LiquidCrystal_I2C_Menu_files/LiquidCrystal_I2C_Menu_Btns wiring.png" width="640"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Схема подключения дисплея и кнопок к Ардуино для работы с LiquidCrystal_I2C_Menu_Btns</td></tr></tbody></table><div><br></div><div>Вы можете выбрать для подключения любые другие пины Ардуино. Только не забудьте потом прописать их в скетче, чтобы библиотека знала, с какими выводами ей работать.</div><div><br></div><div><span style="text-align: center;">Для библиотеки LiquidCrystal_I2C_Menu_Btns достаточно трёх кнопок. Четвертая опциональная, используется для отмены действий и возврата из функций.</span></div><div><span style="text-align: center;"><br></span></div><h2 style="text-align: left;"><span style="text-align: center;">Как использовать</span></h2><div style="text-align: left;">Обе библиотеки одинаковы в использовании, за исключением функций подключения и опроса элементов управления (attachEncoder / attachButtons и getEncoderState / getButtonsState). В остальном они взаимозаменяемы. Помимо унаследованных из&nbsp;<span style="text-align: center;">LiquidCrystal_I2C функций в</span>&nbsp;них реализованы следующие:</div><div style="text-align: left;"><br></div><div style="text-align: left;"><ul><li><b>printAt(x, y, text)</b>&nbsp;– вывод текста на дисплей с указанной позиции.</li><li><b>printf(format, …)</b>&nbsp;– форматированный вывод текста. Лично мне очень не хватало этой функции. Если раньше приходилось делать несколько вызовов print, или выводить текст в промежуточный буфер функцией sprintf, то сейчас достаточно одного вызова printf.</li><li><b>printfAt(x, y, format, …)</b>&nbsp;– форматированный вывод с указанной позиции.</li><li><b>attachEncoder(pinA, pinB, pinBtn)</b>&nbsp;– сообщает библиотеке, к каким выводам Ардуино подключен энкодер. Только для LiquidCrystal_I2C_Menu.</li><li><b>getEncoderState()</b>&nbsp;– опрос состояния энкодера. Возвращает значение типа eEncoderState (перечисляемый тип, описан в библиотеке как {eNone, eLeft, eRight, eButton}). Только для LiquidCrystal_I2C_Menu.</li><li><b>attachButtons(pinLeft, pinRight, pinEnter, [pinBack])</b>&nbsp;– сообщает библиотеке, к каким выводам Ардуино подключены кнопки. Только для LiquidCrystal_I2C_Menu_Btns.</li><li><b>getButtonsState()&nbsp;</b>– опрос состояния кнопок. Возвращает значение типа eButtonsState (перечисляемый тип, описан в библиотеке как {eNone, eLeft, eRight, eButton, eBack}). Только для LiquidCrystal_I2C_Menu_Btns.</li><li><b>printMultiline(text)</b>&nbsp;– вывод длинного текста с возможностью вертикальной прокрутки. Возврат из функции осуществляется при нажатии кнопки.</li><li><b>inputVal(title, min, max, default, [step = 1], [*onChangeFunc = NULL])</b>&nbsp;– ввод числового значения. title – заголовок; параметры min и max задают диапазон, в котором может изменяться значение; default – начальное значение; step –&nbsp;величина приращения, по умолчанию равна 1; необязательный параметр onChangeFunc –&nbsp;указатель на функцию, которая должна вызываться при изменении значения.</li><li><b>inputValAt(x, y, min, max, default, [step = 1]<b>,&nbsp;[*onChangeFunc = NULL]</b>)</b>&nbsp;– аналогична функции inputVal, но в отличие от нее не очищает дисплей при вызове и ввод значения осуществляется с указанной позиции.</li><li><b>inputValBitwise(title, value, precision, [scale = 0], [signed = false])</b>&nbsp;– позволяет вводить числовые значения путем редактирования отдельных разрядов числа. Параметр title определяет заголовок; value – ссылка на переменную, в которую будет помещен результат ввода; precision – общее количество разрядов в числе; scale –&nbsp;количество разрядов после запятой, значение по умолчанию 0; signed –&nbsp;разрешает (при значении true) или запрещает (при значении false –&nbsp;по умолчанию) ввод отрицательных чисел. Функция возвращает true, если пользователь подтвердил ввод, false, если отказался.</li><li><b>inputStrVal(title, buffer, length, available_symbols)</b>&nbsp;– аналогично функции inputValBitwise предоставляет возможность поразрядного ввода, но кроме цифр могут быть введены и другие символы. Параметр title определяет заголовок; buffer – ссылка на символьный буфер, в который будет помещен результат ввода; length – количество вводимых символов; параметр available_symbols –&nbsp;это строка символов, доступных для ввода. Функция возвращает true, если пользователь подтвердил ввод, false, если отказался.</li><li><b>selectVal(title, list_of_values, count, [show_selected = true]<b>, [selected_index = 0]</b>)</b>&nbsp;– позволяет выбрать значение из списка list и возвращает индекс выбранного элемента.&nbsp; title – отображаемый на дисплее заголовок; list – список значений для выбора, представляет собой массив значений типа char*, String или int; count – количество элементов в массиве;&nbsp;show_selected - флаг отображения метки на выбранном элементе; selected_index – индекс выбранного по умолчанию элемента.</li><li><b>showMenu(menu, menu_length, show_title)</b>&nbsp;– отображает меню и возвращает ключ выбранного элемента. menu – массив элементов типа sMenuItem; menu_length – длина меню; show_title – признак необходимости отображения заголовка.</li><li><b>getSelectedMenuItem()</b>&nbsp;–&nbsp;возвращает ключ выбранного пункта меню для использования внутри обработчиков.</li><li><b>attachIdleFunc(*IdleFunc)</b>&nbsp;–&nbsp;позволяет привязать функцию, которая будет вызываться библиотекой при бездействии.</li></ul>&nbsp;Разберём несколько примеров их использования.</div><div style="text-align: left;"><br></div><div style="text-align: left;"><h3 style="text-align: left;">printAt, printf, printfAt</h3><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  <span class="hljs-keyword" style="color: #00979d;">char</span> hello[] = <span class="hljs-string" style="color: #005c5f;">"Hello, world!"</span>;
  <span class="hljs-keyword" style="color: #00979d;">String</span> s = <span class="hljs-string" style="color: #005c5f;">"String example"</span>;
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
  lcd.printf(<span class="hljs-string" style="color: #005c5f;">"millis=%lu"</span>, <span class="hljs-built_in" style="color: #d35400;">millis</span>());
  lcd.printAt(<span class="hljs-number" style="color: #8a7b52;">3</span>, <span class="hljs-number" style="color: #8a7b52;">1</span>, hello);
  lcd.printAt(<span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">2</span>, s);
  lcd.printfAt(<span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">3</span>, <span class="hljs-string" style="color: #005c5f;">"%s"</span>, s.c_str());
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {

}</pre></div><div><h3 style="text-align: left;"><span style="font-weight: 400;"><br></span></h3><div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-GURAzvTDiEs/X1ctY_NNwrI/AAAAAAAABOk/r8OZ5S0kA78NGPhtE8TTxViT3CVAsancwCNcBGAsYHQ/s1024/printf_example.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="555" data-original-width="1024" height="338" src="./Forum_LiquidCrystal_I2C_Menu_files/printf_example.jpg" title="Функции printf, printfAt библиотеки LiquidCrystal_I2C_Menu" width="625"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Результат работы функций&nbsp;printAt, printf, printfAt</td></tr></tbody></table><br><span style="font-weight: 400;"><br></span></div><div style="text-align: left;"><span style="font-weight: normal;">Функция printAt поддерживает те же типы данных, что и print: вы можете выводить на дисплей целые и дробные числа, текстовые строки, будь то массив символов или переменная типа String. А при работе с функциями форматированного вывода printf и printfAt не забывайте, что они не поддерживают тип String и передавать им нужно указатель на строку в стиле Си. Для этого достаточно вызвать функцию c_str() класса String, в примере выше это показано.</span></div><div><span style="font-weight: 400;"><br></span></div><h3 style="text-align: left;"><b>attachEncoder, getEncoderState и&nbsp;</b><b>attachButtons,&nbsp;</b><b>getButtonsState</b></h3></div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-comment" color="">// Пины, к которым подключен энкодер</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinCLK 2</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinDT  3</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinSW  4</span>

<span class="hljs-keyword" style="color: #00979d;">int</span> x = <span class="hljs-number" style="color: #8a7b52;">0</span>;

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
  lcd.attachEncoder(pinDT, pinCLK, pinSW);
  lcd.printfAt(<span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-string" style="color: #005c5f;">"%d "</span>, x);
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {
  <span class="hljs-comment" color="">// Опрашиваем энкодер</span>
  eEncoderState EncoderState = lcd.getEncoderState();
  <span class="hljs-built_in" style="color: #d35400;">switch</span> (EncoderState) {
    <span class="hljs-built_in" style="color: #d35400;">case</span> eLeft:   <span class="hljs-comment" color="">// При вращении влево уменьшаем значение переменной</span>
      x--;
      <span class="hljs-built_in" style="color: #d35400;">break</span>;
    <span class="hljs-built_in" style="color: #d35400;">case</span> eRight:  <span class="hljs-comment" color="">// При вращении вправо увеличиваем значение переменной</span>
      x++;
      <span class="hljs-built_in" style="color: #d35400;">break</span>;
    <span class="hljs-built_in" style="color: #d35400;">case</span> eButton: <span class="hljs-comment" color="">// При нажатии кнопки энкодера обнуляем значение переменной</span>
      x = <span class="hljs-number" style="color: #8a7b52;">0</span>;
      <span class="hljs-built_in" style="color: #d35400;">break</span>;
    <span class="hljs-built_in" style="color: #d35400;">case</span> eNone:   <span class="hljs-comment" color="">// Энкодер не вращается, кнопка не нажата. Выходим из функции</span>
      <span class="hljs-built_in" style="color: #d35400;">return</span>;
  }
  lcd.printfAt(<span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-string" style="color: #005c5f;">"%d "</span>, x); <span class="hljs-comment" color="">// Покажем новое значение x</span>
}</pre></div><div><div>В данном примере выполняется подключение энкодера функцией attachEncoder и опрос его состояния в цикле. При вращении энкодера изменяется значение переменной x, затем выводится на дисплей. Нажатие на кнопку приводит к обнулению переменной.</div><div><br></div><div>Аналогичный пример для библиотеки LiquidCrystal_I2C_Menu_Btns вы найдете в папке \examples\Buttons. Отличие состоит в использовании функций attachButtons и getButtonsState. Последняя возвращает значение типа eButtonsState, которое определено в библиотеке следующим образом:</div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #00979d;">enum</span> eButtonsState {eNone, eLeft, eRight, eButton, eBack};</pre></div><div>Это те же значения, что используются при работе с энкодером, плюс новое значение eBack для кнопки "Назад". Подключать эту кнопку необязательно, то есть функция attachButtons может быть вызвана с тремя параметрами:</div></div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;">lcd.attachButtons(pinLeft, pinRight, pinEnter);</pre></div><div style="text-align: left;"><b><br></b></div><h3 style="text-align: left;"><b>printMultiline</b></h3><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;avr/pgmspace.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-comment" color="">// Пины, к которым подключен энкодер</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinCLK 2</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinDT  3</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinSW  4</span>

<span class="hljs-comment" color="">// Объявим две строки в памяти программ. Так они не будут занимать оперативную память</span>
<span class="hljs-keyword" style="color: #00979d;">const</span> <span class="hljs-keyword" style="color: #00979d;">char</span> text_1[] PROGMEM = <span class="hljs-string" style="color: #005c5f;">"Using PROGMEM example"</span>;
<span class="hljs-keyword" style="color: #00979d;">const</span> <span class="hljs-keyword" style="color: #00979d;">char</span> text_2[] PROGMEM = <span class="hljs-string" style="color: #005c5f;">"This text is stored in FLASH"</span>;

<span class="hljs-keyword" style="color: #00979d;">const</span> <span class="hljs-keyword" style="color: #00979d;">char</span>* <span class="hljs-keyword" style="color: #00979d;">const</span> <span class="hljs-built_in" style="color: #d35400;">text</span>[] PROGMEM = {text_1, text_2};

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
    lcd.attachEncoder(pinDT, pinCLK, pinSW);
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {
  <span class="hljs-keyword" style="color: #00979d;">char</span> *<span class="hljs-built_in" style="color: #d35400;">buffer</span>;
  <span class="hljs-comment" color="">// Вывод на экран длинной строки. Строка занимает оперативную память.</span>
  lcd.printMultiline(<span class="hljs-string" style="color: #005c5f;">"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"</span>);
  
  <span class="hljs-comment" color="">// Вывод строки из памяти программ.</span>
  <span class="hljs-built_in" style="color: #d35400;">buffer</span> = (<span class="hljs-keyword" style="color: #00979d;">char</span>*) malloc(<span class="hljs-number" style="color: #8a7b52;">30</span>); <span class="hljs-comment" color="">// Буфер для временного хранения строки</span>
  strcpy_P(<span class="hljs-built_in" style="color: #d35400;">buffer</span>, (<span class="hljs-keyword" style="color: #00979d;">char</span>*)pgm_read_word(&amp;(<span class="hljs-built_in" style="color: #d35400;">text</span>[<span class="hljs-number" style="color: #8a7b52;">0</span>]))); <span class="hljs-comment" color="">// Копируем строку в буфер</span>
  lcd.printMultiline(<span class="hljs-built_in" style="color: #d35400;">buffer</span>); <span class="hljs-comment" color="">// Выводим содержимое буфера на экран</span>
  strcpy_P(<span class="hljs-built_in" style="color: #d35400;">buffer</span>, (<span class="hljs-keyword" style="color: #00979d;">char</span>*)pgm_read_word(&amp;(<span class="hljs-built_in" style="color: #d35400;">text</span>[<span class="hljs-number" style="color: #8a7b52;">1</span>]))); <span class="hljs-comment" color="">// Аналогично со второй строкой</span>
  lcd.printMultiline(<span class="hljs-built_in" style="color: #d35400;">buffer</span>);
  free(<span class="hljs-built_in" style="color: #d35400;">buffer</span>); <span class="hljs-comment" color="">// Освобождаем буфер</span>
  
  <span class="hljs-comment" color="">// Другой пример хранения строк в памяти программ - использование макроса F().</span>
  lcd.printMultiline(F(<span class="hljs-string" style="color: #005c5f;">"Using F() macro example. Press button to continue."</span>));
}</pre></div><div><div><br></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-Io20BjSx8bw/X1cto4A67pI/AAAAAAAABOs/-jf0m6mLiE8V8COWAQ-ZOhX1dD1tu1JLQCNcBGAsYHQ/s1024/printMultiline_example.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="555" data-original-width="1024" height="338" src="./Forum_LiquidCrystal_I2C_Menu_files/printMultiline_example.jpg" title="Функция printMultiline библиотеки LiquidCrystal_I2C_Menu" width="625"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Результат работы функции printMultiline<br></td></tr></tbody></table><br><div><br></div><div><br></div><div>Функция printMultiline позволяет выводить на дисплей длинные строки с возможностью прокрутки. Но, объявив несколько таких строк в своем скетче, при компиляции вы можете заметить, как быстро они "съедают" память данных. В&nbsp;Ардуино Уно для хранения данных доступно всего 2кб, тогда как для кода программы отведено 32кб. Поэтому при наличии в программе большого объема текстовых данных целесообразно хранить их в памяти программ (FLASH). Для этого используется ключевое слово PROGMEM.&nbsp;</div><div><br></div><div>PROGMEM – это модификатор переменных, он сообщает компилятору, что указанная переменная должна быть размещена не в памяти данных, а в памяти программ. Работает этот модификатор только с типами данных, объявленными в файле pgmspace.h, частью которой он является. Чтобы впоследствии процессор мог что-то сделать с этими данными, они должны быть скопированы из FLASH в SRAM. Для этого в примере выше выделяется буфер, в который происходит считывание строк text[0] и text[1]. После того как данные выведены на дисплей буфер может быть освобожден.</div><div><br></div><div>Еще один вариант размещения строки в памяти программ – это использование макроса F() непосредственно в функции printMultiline. В примере это также показано.</div></div><div><br></div></div><h3 style="text-align: left;">inputVal, inputValAt</h3><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-comment" color="">// Пины, к которым подключен энкодер</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinCLK 2</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinDT  3</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinSW  4</span>

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
  lcd.attachEncoder(pinDT, pinCLK, pinSW);
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {
  <span class="hljs-comment" color="">// Для примера запросим длину массива</span>
  uint8_t len = lcd.inputVal(<span class="hljs-string" style="color: #005c5f;">"Input array len"</span>, <span class="hljs-number" style="color: #8a7b52;">5</span>, <span class="hljs-number" style="color: #8a7b52;">10</span>, <span class="hljs-number" style="color: #8a7b52;">8</span>);
  uint8_t A[len];
  uint8_t t;
  
  <span class="hljs-comment" color="">// Затем элементы массива</span>
  <span class="hljs-built_in" style="color: #d35400;">for</span> (uint8_t i = <span class="hljs-number" style="color: #8a7b52;">0</span>; i &lt; len; i++) {
    lcd.printfAt(<span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-string" style="color: #005c5f;">"Input A[%d]: "</span>, i); <span class="hljs-comment" color="">// Приглашение для ввода</span>
    A[i] = lcd.inputValAt(<span class="hljs-number" style="color: #8a7b52;">12</span>, <span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">9</span>, <span class="hljs-number" style="color: #8a7b52;">5</span>);  <span class="hljs-comment" color="">// Ввод значения</span>
  }
  
  <span class="hljs-comment" color="">// Отсортируем массив</span>
  <span class="hljs-built_in" style="color: #d35400;">for</span> (uint8_t i = <span class="hljs-number" style="color: #8a7b52;">0</span>; i &lt; len - <span class="hljs-number" style="color: #8a7b52;">1</span>; i++) {
    <span class="hljs-built_in" style="color: #d35400;">for</span> (uint8_t j = i + <span class="hljs-number" style="color: #8a7b52;">1</span>; j &lt; len; j++) {
      <span class="hljs-built_in" style="color: #d35400;">if</span>(A[i] &gt; A[j]){
        t = A[i];
        A[i] = A[j];
        A[j] = t;
      }
    }
  }
  
  <span class="hljs-comment" color="">// И выведем на дисплей</span>
  lcd.<span class="hljs-built_in" style="color: #d35400;">clear</span>();
  lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Sorted array:"</span>);
  lcd.<span class="hljs-built_in" style="color: #d35400;">setCursor</span>(<span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">1</span>);
  <span class="hljs-built_in" style="color: #d35400;">for</span> (uint8_t i = <span class="hljs-number" style="color: #8a7b52;">0</span>; i &lt; len; i++)
    lcd.printf(<span class="hljs-string" style="color: #005c5f;">"%d "</span>, A[i]);
  
  <span class="hljs-comment" color="">// Ожидаем нажатия кнопки для продолжения</span>
  <span class="hljs-built_in" style="color: #d35400;">while</span> (lcd.getEncoderState() == eNone);
}</pre></div><div><br></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-lnZHCtR84Cw/X1cuCsZ6VAI/AAAAAAAABO0/ASdu77IyTGojZgQM0BaGXR9G6lNL0NXMQCNcBGAsYHQ/s1024/inputValAt_example.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="555" data-original-width="1024" height="338" src="./Forum_LiquidCrystal_I2C_Menu_files/inputValAt_example.jpg" title="Функции inputVal и inputValAt библиотеки LiquidCrystal_I2C_Menu" width="625"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Использование функций printfAt и inputValAt для ввода значений<br></td></tr></tbody></table><br><div><br></div><div>Для демонстрации использования функций inputVal и inputValAt в данном примере предлагается ввести длину массива, а затем элементы массива. Введенный массив сортируется и выводится на дисплей. Отличие этих двух функций состоит в том, что inputValAt при вызове не очищает дисплей и позволяет предварительно вывести на дисплей заголовок, используя printf. В скетче выше это используется для отображения индекса вводимого элемента массива.</div><div><br></div><div>В некоторых случаях необходимо знать значение переменной в процессе её редактирования, а не по завершении редактирования. Это позволило бы оперативно применять новое значение. Тогда, например, при изменении громкости мы сможем не только видеть её новое значение на дисплее, но и воспринимать изменение на слух. Для таких случаев в функциях inputVal и inputValAt предусмотрен параметр onChangeFunc. В нём передаётся указатель на функцию, которая должна вызываться при каждом изменении редактируемого параметра. Внутри такой функции можно применить новое значение параметра или даже визуализировать его ввод: отобразить шкалу как в примере ниже.</div><div><br></div><div><br></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-F4srbCBwqeI/X8Nf3RFpdhI/AAAAAAAABU0/YMH_maBOjEgMoy06Fjoct5XpOmCfkOZsQCNcBGAsYHQ/s800/inputVal_onChange.gif" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="434" data-original-width="800" height="347" src="./Forum_LiquidCrystal_I2C_Menu_files/inputVal_onChange.gif" title="Визуализация ввода для функций inputVal и inputValAt библиотеки LiquidCrystal_I2C_Menu" width="640"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Шкала ввода для функций inputVal и inputValAt<br></td></tr></tbody></table><br><div>В примерах к библиотеке есть скетч&nbsp;inputVal_onChange, поясняющий использование параметра onChangeFunc.</div><div><br></div><h3 style="text-align: left;">inputValBitwise</h3><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-comment" color="">// Пины, к которым подключен энкодер</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinCLK 2</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinDT  3</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinSW  4</span>

<span class="hljs-keyword" style="color: #00979d;">double</span> val = <span class="hljs-number" style="color: #8a7b52;">0</span>;

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
  lcd.attachEncoder(pinDT, pinCLK, pinSW);
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {
  <span class="hljs-comment" color="">// Ввод 5-значного числа со знаком, 2 цифры после запятой:</span>
  <span class="hljs-built_in" style="color: #d35400;">if</span> (lcd.inputValBitwise(<span class="hljs-string" style="color: #005c5f;">"Input value"</span>, val, <span class="hljs-number" style="color: #8a7b52;">5</span>, <span class="hljs-number" style="color: #8a7b52;">2</span>, true)) {
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"You entered: "</span>);
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(val);
  }
  <span class="hljs-built_in" style="color: #d35400;">else</span>
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Input canceled"</span>);
  <span class="hljs-built_in" style="color: #d35400;">while</span> (lcd.getEncoderState() == eNone);
}</pre></div><p><br></p><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-8iQKszZh4ig/X1cumkwY7UI/AAAAAAAABO8/vgAI_-lbHVQd-JuwCrnNM8gV75diC5snACNcBGAsYHQ/s1024/inputValBitwise_example.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="555" data-original-width="1024" height="338" src="./Forum_LiquidCrystal_I2C_Menu_files/inputValBitwise_example.jpg" title="Функция поразрядного ввода inputValBitwise библиотеки LiquidCrystal_I2C_Menu" width="625"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Пример использования функции&nbsp;inputValBitwise для поразрядного ввода чисел</td></tr></tbody></table><p><br></p><p>Параметры, с которыми вызывается функция inputValBitwise в данном скетче, определяют ввод пятиразрядного числа со знаком, два младших разряда отведены для дробной части. При подтверждении ввода функция возвращает true и помещает введённое значение в переменную val.</p><p>Ещё несколько примеров ввода чисел функциями inputVal и inputValBitwise вы найдёте в скетче Input_double_and_long.</p><div style="text-align: left;"><br></div><h3 style="text-align: left;">inputStrVal</h3><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-comment" color="">// Пины, к которым подключен энкодер</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinCLK 2</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinDT  3</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinSW  4</span>

<span class="hljs-keyword" style="color: #00979d;">char</span> ip[] = <span class="hljs-string" style="color: #005c5f;">"192.168.001.001"</span>; <span class="hljs-comment" color="">// Массив символов с начальным значением/маской</span>

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
  lcd.attachEncoder(pinDT, pinCLK, pinSW);
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {
  <span class="hljs-built_in" style="color: #d35400;">if</span> (lcd.inputStrVal(<span class="hljs-string" style="color: #005c5f;">"Input IP"</span>, ip, <span class="hljs-number" style="color: #8a7b52;">15</span>, <span class="hljs-string" style="color: #005c5f;">"0123456789"</span>)){
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"You entered:"</span>);
    lcd.printAt(<span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">1</span>, ip);
  }
  <span class="hljs-built_in" style="color: #d35400;">else</span>
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Input canceled"</span>);
  <span class="hljs-built_in" style="color: #d35400;">while</span> (lcd.getEncoderState() == eNone);
}</pre></div><div><br></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-F-Jgo04Sf38/X1cvHK7kWwI/AAAAAAAABPE/uHma76GiajgUOiEp0fJ0XdE1BmLi3JrvACNcBGAsYHQ/s1024/inputStrVal.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="555" data-original-width="1024" height="338" src="./Forum_LiquidCrystal_I2C_Menu_files/inputStrVal.jpg" title="Функция inputStrVal библиотеки LiquidCrystal_I2C_Menu" width="625"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Пример использования функции inputStrVal для маскированного ввода<br></td></tr></tbody></table><br><div><br></div><div>Здесь функция inputStrVal используется для ввода IP адреса. При вызове функции содержимое переданного буфера рассматривается как значение по умолчанию и выводится на дисплей. Последний параметр функции определяет разрешенные для ввода символы, в данном случае только цифры. Если буфер содержит символы, которые не могут быть введены, то их не удастся изменить. Таким способом можно реализовать маскированный ввод или, например, показать единицу измерения для вводимого значения.</div><div><br></div><h3 style="text-align: left;">selectVal</h3><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-comment" color="">// Пины, к которым подключен энкодер</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinCLK 2</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinDT  3</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinSW  4</span>

<span class="hljs-keyword" style="color: #00979d;">int</span> index = <span class="hljs-number" style="color: #8a7b52;">0</span>;
  
<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
  lcd.attachEncoder(pinDT, pinCLK, pinSW);
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {
  <span class="hljs-keyword" style="color: #00979d;">String</span> list[] = {<span class="hljs-string" style="color: #005c5f;">"Europa+"</span>, <span class="hljs-string" style="color: #005c5f;">"Record"</span>, <span class="hljs-string" style="color: #005c5f;">"DFM"</span>, <span class="hljs-string" style="color: #005c5f;">"Retro FM"</span>, <span class="hljs-string" style="color: #005c5f;">"Energy"</span>};
  index = lcd.selectVal(<span class="hljs-string" style="color: #005c5f;">"Select station"</span>, list, <span class="hljs-number" style="color: #8a7b52;">5</span>, true, index);
  lcd.printf(<span class="hljs-string" style="color: #005c5f;">"%s selected"</span>, list[index].c_str());
  <span class="hljs-built_in" style="color: #d35400;">while</span> (lcd.getEncoderState() == eNone);
}</pre></div><div><br></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-Wku5wSRDY3c/X1cvjBG9I1I/AAAAAAAABPM/dEdKRXtzdP0LooDfwaTmde8Rew-aI4ABgCNcBGAsYHQ/s1024/selectVal_example.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="555" data-original-width="1024" height="338" src="./Forum_LiquidCrystal_I2C_Menu_files/selectVal_example.jpg" title="Функция выбора значения selectVal библиотеки LiquidCrystal_I2C_Menu" width="625"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Пример работы функции selectVal<br></td></tr></tbody></table><br><div><br></div><div>Функция selectVal используется для выбора значения из списка. Она работает с массивами значений типа char*, String или int и возвращает индекс выбранного элемента. Последние два параметра функции необязательны, это show_selected - определяет, должно ли визуально выделяться выбранное значение (по умолчанию true) и&nbsp; preselected - задаёт индекс выбранного элемента (по умолчанию -1 - ничего не выбрано).</div><div><br></div><div><h3 style="text-align: left;"><b>showMenu</b></h3></div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-comment" color="">// Пины, к которым подключен энкодер</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinCLK 2</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinDT  3</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinSW  4</span>

<span class="hljs-comment" color="">// Объявим перечисление, используемое в качестве ключа пунктов меню</span>
<span class="hljs-keyword" style="color: #00979d;">enum</span> {mkBack, mkRoot, mkRun, mkOptions, mkMode, mkSpeed, mkLog, mkSelftest, mkHelp, mkFAQ, mkIndex, mkAbout};

<span class="hljs-comment" color="">// Описание меню</span>
<span class="hljs-comment" color="">// структура пункта меню: {ParentKey, Key, Caption, [Handler]}</span>
sMenuItem menu[] = {
  {mkBack, mkRoot, <span class="hljs-string" style="color: #005c5f;">"Menu demo"</span>},
    {mkRoot, mkRun, <span class="hljs-string" style="color: #005c5f;">"Run"</span>},
    {mkRoot, mkOptions, <span class="hljs-string" style="color: #005c5f;">"Options"</span>},
      {mkOptions, mkMode, <span class="hljs-string" style="color: #005c5f;">"Mode"</span>},
      {mkOptions, mkSpeed, <span class="hljs-string" style="color: #005c5f;">"Speed"</span>},
      {mkOptions, mkLog, <span class="hljs-string" style="color: #005c5f;">"Print log"</span>},
      {mkOptions, mkSelftest, <span class="hljs-string" style="color: #005c5f;">"Selftest"</span>},
      {mkOptions, mkBack, <span class="hljs-string" style="color: #005c5f;">"Back"</span>},
    {mkRoot, mkHelp, <span class="hljs-string" style="color: #005c5f;">"Help"</span>},
      {mkHelp, mkFAQ, <span class="hljs-string" style="color: #005c5f;">"FAQ"</span>},
      {mkHelp, mkIndex, <span class="hljs-string" style="color: #005c5f;">"Index"</span>},
      {mkHelp, mkAbout, <span class="hljs-string" style="color: #005c5f;">"About"</span>},
      {mkHelp, mkBack, <span class="hljs-string" style="color: #005c5f;">"Back"</span>},
    {mkRoot, mkBack, <span class="hljs-string" style="color: #005c5f;">"Exit menu"</span>}
};

uint8_t menuLen = <span class="hljs-keyword" style="color: #00979d;">sizeof</span>(menu) / <span class="hljs-keyword" style="color: #00979d;">sizeof</span>(sMenuItem);

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
  lcd.attachEncoder(pinDT, pinCLK, pinSW);
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {
  <span class="hljs-comment" color="">// Показываем меню</span>
  uint8_t selectedMenuItem = lcd.showMenu(menu, menuLen, <span class="hljs-number" style="color: #8a7b52;">1</span>);
  <span class="hljs-comment" color="">// И выполняем действия в соответствии с выбранным пунктом</span>
  <span class="hljs-built_in" style="color: #d35400;">if</span> (selectedMenuItem == mkRun)
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Run selected"</span>);
  <span class="hljs-built_in" style="color: #d35400;">else</span> <span class="hljs-built_in" style="color: #d35400;">if</span> (selectedMenuItem == mkMode)
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Mode selected"</span>);
  <span class="hljs-built_in" style="color: #d35400;">else</span> <span class="hljs-built_in" style="color: #d35400;">if</span> (selectedMenuItem == mkSpeed)
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Speed selected"</span>);
  <span class="hljs-built_in" style="color: #d35400;">else</span> <span class="hljs-built_in" style="color: #d35400;">if</span> (selectedMenuItem == mkLog)
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Print log selected"</span>);
  <span class="hljs-built_in" style="color: #d35400;">else</span> <span class="hljs-built_in" style="color: #d35400;">if</span> (selectedMenuItem == mkSelftest)
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Selftest selected"</span>);
  <span class="hljs-built_in" style="color: #d35400;">else</span> <span class="hljs-built_in" style="color: #d35400;">if</span> (selectedMenuItem == mkFAQ)
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"FAQ selected"</span>);
  <span class="hljs-built_in" style="color: #d35400;">else</span> <span class="hljs-built_in" style="color: #d35400;">if</span> (selectedMenuItem == mkIndex)
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Index selected"</span>);
  <span class="hljs-built_in" style="color: #d35400;">else</span> <span class="hljs-built_in" style="color: #d35400;">if</span> (selectedMenuItem == mkAbout)
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"About selected"</span>);
  <span class="hljs-built_in" style="color: #d35400;">else</span> <span class="hljs-built_in" style="color: #d35400;">if</span> (selectedMenuItem == mkBack)
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Exit selected"</span>);
  <span class="hljs-built_in" style="color: #d35400;">delay</span>(<span class="hljs-number" style="color: #8a7b52;">2000</span>);
}</pre></div><p><br></p><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-u4zw1qO9Vis/X1cv8mkVauI/AAAAAAAABPY/WrexiCPfIrYnPjpZgbfMIBh2YsbP5onDwCNcBGAsYHQ/s1024/showMenu_example.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="555" data-original-width="1024" height="338" src="./Forum_LiquidCrystal_I2C_Menu_files/showMenu_example.jpg" title="Меню на Ардуино и LCD дисплее" width="625"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Пример меню, построенного функцией showMenu</td></tr></tbody></table><br><p>Функция showMenu берёт на себя отрисовку меню и навигацию по нему. Входными параметрами функции являются массив элементов типа sMenuItem (это и есть наше меню), длина массива и признак отображения заголовка в меню. В качестве заголовка используется название родительского пункта меню. Отключение отображения заголовка полезно при использовании дисплея 1602.</p><p>Итак, меню - это массив элементов sMenuItem. Данная структура определёна в библиотеке следующим образом:</p><p></p><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #00979d;">struct</span> sMenuItem {
  uint8_t parent;
  uint8_t key;
  <span class="hljs-keyword" style="color: #00979d;">char</span>    *caption;
  <span class="hljs-keyword" style="color: #00979d;">void</span>    (*handler)();
};</pre><p></p><p>Параметры parent и key служат для задания иерархии, caption – указатель на название элемента меню, handler - указатель на функцию, которая будет вызываться при выборе данного пункта меню. Будем называть такие функции обработчиками.</p><p>В качестве parent и key могут быть использованы целочисленные значения, начиная с 1. Но гораздо удобнее определить для них символьные имена, то есть работать с перечислением. Обратите внимание на то, что первым в перечислении должно быть определено значение mkBack, ему соответствует значение 0. Данное значение является служебным и используется для пунктов меню, отвечающих за возврат на уровень выше.</p><p>При выборе пункта меню, не имеющего подменю и обработчика, функция возвращает соответствующее ему значение key. После этого остаётся проанализировать вернувшееся значение при помощи if или case и выполнить соответствующее выбранному элементу действие.</p><p>Если же для выбранного пункта меню задан обработчик, то он будет вызван, после чего управление вернётся в меню.</p><div style="text-align: left;"><br></div><h3 style="text-align: left;">getSelectedMenuItem и использование обработчиков меню</h3><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-comment" color="">// Пины, к которым подключен энкодер</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinCLK 2</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinDT  3</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinSW  4</span>

<span class="hljs-keyword" style="color: #00979d;">int</span> brightness = <span class="hljs-number" style="color: #8a7b52;">50</span>;
<span class="hljs-keyword" style="color: #00979d;">int</span> _delay = <span class="hljs-number" style="color: #8a7b52;">10</span>;

<span class="hljs-comment" color="">// Обработчики пунктов меню SetBrightness и SetDelay</span>
<span class="hljs-comment" color="">// Используются для ввода значений brightness и _delay</span>
<span class="hljs-keyword" style="color: #00979d;">void</span> SetBrightness() {
  brightness = lcd.inputVal(<span class="hljs-string" style="color: #005c5f;">"Input brightness(%)"</span>, <span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">100</span>, brightness, <span class="hljs-number" style="color: #8a7b52;">5</span>);
}

<span class="hljs-keyword" style="color: #00979d;">void</span> SetDelay() {
  _delay = lcd.inputVal(<span class="hljs-string" style="color: #005c5f;">"Input delay(ms)"</span>, <span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, _delay);
}

<span class="hljs-comment" color="">// Объявим перечисление, используемое в качестве ключа пунктов меню</span>
<span class="hljs-keyword" style="color: #00979d;">enum</span> {mkBack, mkRoot, mkOptions, mkSetBrightness, mkSetDelay};

<span class="hljs-comment" color="">// Описание меню</span>
<span class="hljs-comment" color="">// структура пункта меню: {ParentKey, Key, Caption, [Handler]}</span>
sMenuItem menu[] = {
  {mkBack, mkRoot, <span class="hljs-string" style="color: #005c5f;">"Main menu"</span>, NULL},
  {mkRoot, mkOptions, <span class="hljs-string" style="color: #005c5f;">"Options"</span>, NULL},
  {mkOptions, mkSetBrightness, <span class="hljs-string" style="color: #005c5f;">"SetBrightness"</span>, SetBrightness},
  {mkOptions, mkSetDelay, <span class="hljs-string" style="color: #005c5f;">"SetDelay"</span>, SetDelay},
  {mkOptions, mkBack, <span class="hljs-string" style="color: #005c5f;">"Back"</span>, NULL},
  {mkRoot, mkBack, <span class="hljs-string" style="color: #005c5f;">"Back"</span>, NULL}
};

uint8_t menuLen = <span class="hljs-keyword" style="color: #00979d;">sizeof</span>(menu) / <span class="hljs-keyword" style="color: #00979d;">sizeof</span>(sMenuItem);

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
  lcd.attachEncoder(pinDT, pinCLK, pinSW);
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {
  uint8_t selectedMenuItem = lcd.showMenu(menu, menuLen, <span class="hljs-number" style="color: #8a7b52;">1</span>); <span class="hljs-comment" color="">// Вызываем меню</span>
  <span class="hljs-comment" color="">/* Реакция на выбор пунктов меню SetBrightness и SetDelay реализована
   * в функциях-обработчиках.
   * При необходимости здесь может располагаться анализ значения selectedMenuItem 
   * для пунктов, не имеющих обработчиков:
     if (selectedMenuItem == ...) {...}
  */</span>
}</pre></div><div><div>В этом примере для двух пунктов меню заданы функции-обработчики SetBrightness и SetDelay. Они не имеют параметров и ничего не возвращают - это обязательное требование к обработчикам. Обработчики вызываются прямо из функции showMenu, то есть она не завершается и не возвращает ключ выбранного пункта меню. Внутри обработчиков можно как угодно работать с дисплеем, перерисовывать его и вызывать функции библиотеки, после завершения обработчика меню будет восстановлено.</div><div><br></div><div>Один обработчик можно привязать сразу к нескольким пунктам меню. В этом случае, чтобы понять, какой пункт был выбран, используется функция getSelectedMenuItem. Она возвращает ключ выбранного пункта. Далее ключ нужно проанализировать и выполнить соответствующий код.</div></div><div><br></div><h3 style="text-align: left;">attachIdleFunc</h3><div><div>При вызове большинства функций библиотеки ожидается действие от пользователя: выбор пункта в меню, ввод значения и так далее. При этом мы по сути находимся в цикле и выполнение остальной части программы невозможно, пока мы не выйдем из этого цикла. Это логично. Но возможны случаи, когда такая логика работы не подходит. Например, если нам нужно опрашивать какие-либо датчики даже во время работы меню. В таких случаях поможет функция attachIdleFunc. Она позволяет указать функцию, которую будет вызывать библиотека снова и снова, пока мы находимся в меню, вводим или выбираем значения. А уже внутри этой самой функции можно сделать опрос датчиков или что угодно, что не будет долго выполняться, чтобы не мешать библиотеке опрашивать кнопки и энкодер.</div><div><br></div><div>Для демонстрации описанного функционала в приведённом ниже примере включается и выключается встроенный светодиод Ардуино, пока мы находимся внутри функций inputVal и printMultiline.</div><div><br></div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-comment" color="">// Пины, к которым подключен энкодер</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinCLK 2</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinDT  3</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> pinSW  4</span>

<span class="hljs-keyword" style="color: #00979d;">unsigned</span> <span class="hljs-keyword" style="color: #00979d;">long</span> tm = <span class="hljs-number" style="color: #8a7b52;">0</span>;
<span class="hljs-keyword" style="color: #00979d;">bool</span> ledState = false;

<span class="hljs-comment" color="">// Данная функция будет вызываться из библиотеки при бездействии</span>
<span class="hljs-keyword" style="color: #00979d;">void</span> myIdleFunc() {
  <span class="hljs-built_in" style="color: #d35400;">if</span> (<span class="hljs-built_in" style="color: #d35400;">millis</span>() - tm &gt;= <span class="hljs-number" style="color: #8a7b52;">500</span>) {
    <span class="hljs-comment" color="">// Включаем и выключаем встроенный светодиод на Ардуино</span>
    tm = <span class="hljs-built_in" style="color: #d35400;">millis</span>();
    ledState = !ledState;
    <span class="hljs-built_in" style="color: #d35400;">digitalWrite</span>(<span class="hljs-literal" style="color: #d35400;">LED_BUILTIN</span>, ledState);
  }
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
  lcd.attachEncoder(pinDT, pinCLK, pinSW);
  lcd.attachIdleFunc(myIdleFunc);
  <span class="hljs-built_in" style="color: #d35400;">pinMode</span>(<span class="hljs-literal" style="color: #d35400;">LED_BUILTIN</span>, <span class="hljs-literal" style="color: #d35400;">OUTPUT</span>);
  lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Press the button"</span>);
}

<span class="hljs-keyword" style="color: #00979d;">int</span> x = <span class="hljs-number" style="color: #8a7b52;">0</span>;

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {
  myIdleFunc();
  <span class="hljs-built_in" style="color: #d35400;">if</span> (lcd.getEncoderState() == eButton) {
    <span class="hljs-comment" color="">// Для проверки вызовем любую функцию библиотеки,</span>
    <span class="hljs-comment" color="">// которая ожидает действий от пользователя:</span>
    x = lcd.inputVal(<span class="hljs-string" style="color: #005c5f;">"Input some val"</span>, <span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">100</span>, x);
    lcd.printMultiline(<span class="hljs-string" style="color: #005c5f;">"Some text here"</span>);
    lcd.<span class="hljs-built_in" style="color: #d35400;">clear</span>();
    lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(<span class="hljs-string" style="color: #005c5f;">"Press the button"</span>);
  }
}
</pre></div><div><br></div><div>Изначально myIdleFunc вызывается внутри функции loop, в результате светодиод мигает. При нажатии на кнопку энкодера происходит вызов функций библиотеки, выполнение loop приостанавливается. Тем не менее светодиод продолжает мигать, поскольку myIdleFunc вызывается библиотекой. И работе функций inputVal и printMultiline это не мешает.</div></div><div><div><br></div><h2 style="text-align: left;">Изменение названий пунктов меню</h2><div>Ещё один приём, который я хочу показать, это изменение названий пунктов меню в ходе работы программы. Может пригодиться для отображения значений переменных в пунктах меню. В библиотеках есть примеры таких скетчей: Updating_menu_captions и Menu_for_setting_params.</div></div><div><br></div><div><br></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-uUaQSLEEjU8/X1cy_Ic-g6I/AAAAAAAABPk/xq0ZY2OQB0okzlSPn7xLy3gmNYF8Kl76gCNcBGAsYHQ/s800/Updating_menu_captions.gif" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="434" data-original-width="800" height="341" src="./Forum_LiquidCrystal_I2C_Menu_files/Updating_menu_captions.gif" title="Отображение значений в пунктах меню" width="625"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Пример изменения названий пунктов меню</td></tr></tbody></table><br><div><br></div><h2 style="text-align: left;">Поддержка дисплеев с кириллицей</h2><div>Если ваш дисплей поддерживает кириллицу, то для корректного отображения русского текста необходимо включить её поддержку в самой библиотеке. Для этого в заголовочном файле (LiquidCrystal_I2C_Menu.h или LiquidCrystal_I2C_Menu_Btns.h) найдите и раскомментируйте строку:</div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> CYRILLIC_DISPLAY</span></pre></div><div>После этого сохраните внесённые изменения. Теперь русские буквы могут быть использованы в меню и других функциях библиотеки. Не забывайте, что для хранения одной русской буквы используется два байта, а не один. Поэтому для строки из N русских букв следует выделять N * 2 + 1 байт памяти.</div><div><br></div><div>Кроме того, при включении поддержки кириллицы вам станут доступны следующие функции:</div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;">uint8_t strlenUTF8(<span class="hljs-keyword" style="color: #00979d;">char</span> *s)
<span class="hljs-keyword" style="color: #00979d;">void</span> substrUTF8(<span class="hljs-keyword" style="color: #00979d;">char</span>* source, <span class="hljs-keyword" style="color: #00979d;">char</span>* dest, uint8_t fromPos, uint8_t count)</pre></div><div style="text-align: left;">Функция strlenUTF8 возвращает длину строки s в символах (а не байтах, в отличие от функции strlen). Функция substrUTF8 копирует подстроку из строки source, начиная с символа fromPos, длиной count символов (опять же символов, а не байтов) в строку dest. Эти функции не являются методами классов LiquidCrystal_I2C_Menu / LiquidCrystal_I2C_Menu_Btns и вызываются "напрямую", без указания имени экземпляра класса, например:</div><div style="text-align: left;"><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em; text-align: left;"><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal_I2C_Menu.h&gt;</span></span>
LiquidCrystal_I2C_Menu lcd(<span class="hljs-number" style="color: #8a7b52;">0x27</span>, <span class="hljs-number" style="color: #8a7b52;">20</span>, <span class="hljs-number" style="color: #8a7b52;">4</span>);

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">setup</span>() {
  lcd.<span class="hljs-built_in" style="color: #d35400;">begin</span>();
  <span class="hljs-keyword" style="color: #00979d;">char</span> myText[] = <span class="hljs-string" style="color: #005c5f;">"Привет, мир!"</span>;
  <span class="hljs-keyword" style="color: #00979d;">char</span> mySubstr[<span class="hljs-number" style="color: #8a7b52;">21</span>];
  lcd.<span class="hljs-built_in" style="color: #d35400;">print</span>(strlenUTF8(myText)); <span class="hljs-comment" color="">// Напечатает "12"</span>
  substrUTF8(myText, mySubstr, <span class="hljs-number" style="color: #8a7b52;">8</span>, <span class="hljs-number" style="color: #8a7b52;">3</span>);
  lcd.printAt(<span class="hljs-number" style="color: #8a7b52;">0</span>, <span class="hljs-number" style="color: #8a7b52;">1</span>, mySubstr);   <span class="hljs-comment" color="">// Напечатает "мир"</span>
}

<span class="hljs-keyword" style="color: #00979d;">void</span> <span class="hljs-built_in" style="color: #d35400;">loop</span>() {
  
}</pre></pre></div><div style="text-align: left;"><br></div><h2 style="text-align: left;">Другие параметры</h2><div>Кроме упомянутого выше CYRILLIC_DISPLAY заголовочные файлы библиотек содержат и другие параметры, которые могут быть изменены. Рассмотрим их.</div><div><br></div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> SCROLL_LONG_CAPTIONS</span></pre></div><div>- Данный параметр включает прокрутку длинных пунктов меню. Если такая возможность не нужна, просто закомментируйте данную строку. Это позволит немного уменьшить размер скомпилированного кода. Если же прокрутка нужна, то обратите внимание на временные интервалы данной функции:</div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> SCROLL_DELAY        800  <span class="hljs-comment" color="">// Задержка прокрутки</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> DELAY_BEFORE_SCROLL 4000 <span class="hljs-comment" color="">// Задержка перед началом прокрутки</span></span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> DELAY_AFTER_SCROLL  2000 <span class="hljs-comment" color="">// Задержка после вывода всей строки</span></span></pre></div><div>- Они определяют скорость прокрутки и задержки перед её началом и в конце.</div><div><br></div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> ENCODER_POOL_DELAY 5</span></pre></div><div>- Интервал опроса энкодера (только для библиотеки LiquidCrystal_I2C_Menu). Я всегда использую 5мс. Может быть кому-то понадобится установить другое значение</div><div><br></div><div><pre class="hljs" style="background: rgb(255, 255, 255); color: #434f54; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> BUTTONS_POOL_DELAY 50</span>
<span class="hljs-meta" style="color: #434f54;">#<span class="hljs-meta-keyword" style="color: #728e00;">define</span> BUTTONS_HOLD_BEFORE_REPEAT 1000</span></pre></div><div>- Определяют интервал опроса кнопок и задержку при удержании кнопки нажатой (только для библиотеки LiquidCrystal_I2C_Menu_Btns). По истечении интервала BUTTONS_HOLD_BEFORE_REPEAT нажатая кнопка будет читаться как повторно нажатая каждые&nbsp;BUTTONS_POOL_DELAY мс до тех пор, пока она не будет отпущена.</div><div><br></div><h2 style="text-align: left;">Вместо заключения</h2><div>При создании данных библиотек была проделана большая работа. Поэтому, надеюсь, вы оцените результат. Если возникнут вопросы по их использованию - пишите в комментариях, постараюсь на них ответить.</div>
<div itemprop="image" itemscope="itemscope" itemtype="https://schema.org/ImageObject">
<img src="./Forum_LiquidCrystal_I2C_Menu_files/LCI2C_Menu.jpg" style="display:none;">
<meta content="https://1.bp.blogspot.com/-5fQl2ZwaFwQ/X1dlNilTOSI/AAAAAAAABPw/fTG-ielgYIMVvhWUbCqtUiZJ_nUaPEDEQCNcBGAsYHQ/w400-h206/LCI2C_Menu.jpg" itemprop="url">
<meta content="320" itemprop="width">
<meta content="320" itemprop="height">
</div>
<div itemprop="publisher" itemscope="itemscope" itemtype="https://schema.org/Organization">
<div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject">
<img src="./Forum_LiquidCrystal_I2C_Menu_files/saved_resource" style="display:none;">
<meta content="https://tsibrov.blogspot.com" itemprop="url">
<meta content="64" itemprop="width">
<meta content="64" itemprop="height">
</div>
<meta content="Про Ардуино и не только" itemprop="name">
</div>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Автор:
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="https://www.blogger.com/profile/07943437233560370294" itemprop="url">
<a class="g-profile" href="https://www.blogger.com/profile/07943437233560370294" rel="author" title="author profile" data-gapiscan="true" data-onload="true" data-gapiattached="true">
<span itemprop="name">Владимир</span>
</a>
</span>
</span>
<span class="post-timestamp">
на
<meta content="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html" itemprop="url">
<a class="timestamp-link" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html" rel="bookmark" title="permanent link"><abbr class="published" itemprop="datePublished" title="2020-09-07T19:40:00+03:00">9/07/2020</abbr></a>
</span>
<span class="reaction-buttons">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
<span class="item-control blog-admin pid-304946980">
<a href="https://www.blogger.com/post-edit.g?blogID=794788004739538112&amp;postID=7998652808377710845&amp;from=pencil" title="Изменить сообщение">
<img alt="" class="icon-action" height="18" src="./Forum_LiquidCrystal_I2C_Menu_files/icon18_edit_allbkg.gif" width="18">
</a>
</span>
</span>
<div class="post-share-buttons goog-inline-block">
<a class="goog-inline-block share-button sb-email" href="https://www.blogger.com/share-post.g?blogID=794788004739538112&amp;postID=7998652808377710845&amp;target=email" target="_blank" title="Отправить по электронной почте"><span class="share-button-link-text">Отправить по электронной почте</span></a><a class="goog-inline-block share-button sb-blog" href="https://www.blogger.com/share-post.g?blogID=794788004739538112&amp;postID=7998652808377710845&amp;target=blog" onclick="window.open(this.href, &quot;_blank&quot;, &quot;height=270,width=475&quot;); return false;" target="_blank" title="Написать об этом в блоге"><span class="share-button-link-text">Написать об этом в блоге</span></a><a class="goog-inline-block share-button sb-twitter" href="https://www.blogger.com/share-post.g?blogID=794788004739538112&amp;postID=7998652808377710845&amp;target=twitter" target="_blank" title="Опубликовать в Twitter"><span class="share-button-link-text">Опубликовать в Twitter</span></a><a class="goog-inline-block share-button sb-facebook" href="https://www.blogger.com/share-post.g?blogID=794788004739538112&amp;postID=7998652808377710845&amp;target=facebook" onclick="window.open(this.href, &quot;_blank&quot;, &quot;height=430,width=640&quot;); return false;" target="_blank" title="Опубликовать в Facebook"><span class="share-button-link-text">Опубликовать в Facebook</span></a><a class="goog-inline-block share-button sb-pinterest" href="https://www.blogger.com/share-post.g?blogID=794788004739538112&amp;postID=7998652808377710845&amp;target=pinterest" target="_blank" title="Поделиться в Pinterest"><span class="share-button-link-text">Поделиться в Pinterest</span></a>
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
Ярлыки:
<a href="https://tsibrov.blogspot.com/search/label/%D0%B0%D1%80%D0%B4%D1%83%D0%B8%D0%BD%D0%BE" rel="tag">ардуино</a>,
<a href="https://tsibrov.blogspot.com/search/label/%D1%8D%D0%BD%D0%BA%D0%BE%D0%B4%D0%B5%D1%80%20%D0%B2%D1%80%D0%B0%D1%89%D0%B5%D0%BD%D0%B8%D1%8F" rel="tag">энкодер вращения</a>,
<a href="https://tsibrov.blogspot.com/search/label/lcd" rel="tag">lcd</a>
</span>
<script id="related-posts" type="text/javascript"> /*<![CDATA[*/ var relatedTitles = new Array(); var relatedTitlesNum = 0; var relatedUrls = new Array(); var thumburl = new Array(); function related_results_labels_thumbs(json) { for (var i = 0; i < json.feed.entry.length; i++) { var entry = json.feed.entry[i]; relatedTitles[relatedTitlesNum] = entry.title.$t; try {thumburl[relatedTitlesNum]=entry.media$thumbnail.url;} catch (error){ s=entry.content.$t;a=s.indexOf("<img");b=s.indexOf("src=\"",a);c=s.indexOf("\"",b+5);d=s.substr(b+5,c-b-5); if((a!=-1)&&(b!=-1)&&(c!=-1)&&(d!="")) {thumburl[relatedTitlesNum]=d;} else {if(typeof(defaultnoimage) !== 'undefined') thumburl[relatedTitlesNum]=defaultnoimage; else thumburl[relatedTitlesNum]="https://4.bp.blogspot.com/-ZoL4BRpPhkw/U6wnup4_6gI/AAAAAAAAACA/sKpM61pmJPo/s1600/no_pic_available.jpg";} } if(relatedTitles[relatedTitlesNum].length>60) relatedTitles[relatedTitlesNum]=relatedTitles[relatedTitlesNum].substring(0, 60)+"..."; for (var k = 0; k < entry.link.length; k++) { if (entry.link[k].rel == 'alternate') { relatedUrls[relatedTitlesNum] = entry.link[k].href; relatedTitlesNum++; } } } } function removeRelatedDuplicates_thumbs() { var tmp = new Array(0); var tmp2 = new Array(0); var tmp3 = new Array(0); for(var i = 0; i < relatedUrls.length; i++) { if(!contains_thumbs(tmp, relatedUrls[i])) { tmp.length += 1; tmp[tmp.length - 1] = relatedUrls[i]; tmp2.length += 1; tmp3.length += 1; tmp2[tmp2.length - 1] = relatedTitles[i]; tmp3[tmp3.length - 1] = thumburl[i]; } } relatedTitles = tmp2; relatedUrls = tmp; thumburl=tmp3; } function contains_thumbs(a, e) { for(var j = 0; j < a.length; j++) if (a[j]==e) return true; return false; } function printRelatedLabels_thumbs(current) { for(var i = 0; i < relatedUrls.length; i++) { if((relatedUrls[i]==current)||(!relatedTitles[i])) { relatedUrls.splice(i,1); relatedTitles.splice(i,1); thumburl.splice(i,1); i--; } } var r = Math.floor((relatedTitles.length - 1) * Math.random()); var i = 0; while (i < relatedTitles.length && i < 20 && i<maxresults) { tmb = thumburl[r].replace('s72-c/','s300-c/'); document.write('<div class="item-related"><a href="' + relatedUrls[r] + '" class="link"><img width="150" height="100" src="'+tmb+'"/></a><h3><a href="' + relatedUrls[r] + '">'+relatedTitles[r]+'</a></h3></div>');i++; if (r < relatedTitles.length - 1) { r++; } else { r = 0; } } relatedUrls.splice(0,relatedUrls.length); thumburl.splice(0,thumburl.length); relatedTitles.splice(0,relatedTitles.length); } function removeHtmlTag(strx, chop) { var s = strx.split("<"); for (var i = 0; i < s.length; i++) { if (s[i].indexOf(">") != -1) { s[i] = s[i].substring(s[i].indexOf(">") + 1, s[i].length) } } s = s.join(""); s = s.substring(0, chop - 1); return s } /*]]>*/ </script>
<div class="post-related">
<div class="post-box">
<h2 class="heading common-heading">
<i aria-hidden="true" class="fa fa-th-list"></i> Возможно, Вам будет интересно:</h2>
</div>
<script src="./Forum_LiquidCrystal_I2C_Menu_files/ардуино" type="text/javascript"></script>
<script src="./Forum_LiquidCrystal_I2C_Menu_files/энкодер вращения" type="text/javascript"></script>
<script src="./Forum_LiquidCrystal_I2C_Menu_files/lcd" type="text/javascript"></script>
<script type="text/javascript">
                      var defaultnoimage="http://1.bp.blogspot.com/_u4gySN2ZgqE/SosvnavWq0I/AAAAAAAAArk/yL95WlyTqr0/s400/noimage.png";
                      var maxresults=4; // Number Of Posts
                      removeRelatedDuplicates_thumbs();
                      printRelatedLabels_thumbs("https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html");
                    </script><div class="item-related"><a href="https://tsibrov.blogspot.com/2018/06/ad9833.html" class="link"><img width="150" height="100" src="./Forum_LiquidCrystal_I2C_Menu_files/AD9833.jpg"></a><h3><a href="https://tsibrov.blogspot.com/2018/06/ad9833.html">Генератор сигналов на AD9833</a></h3></div><div class="item-related"><a href="https://tsibrov.blogspot.com/2018/01/arduino-text-menu.html" class="link"><img width="150" height="100" src="./Forum_LiquidCrystal_I2C_Menu_files/Arduino_text_menu.png"></a><h3><a href="https://tsibrov.blogspot.com/2018/01/arduino-text-menu.html">Текстовое меню на Ардуино</a></h3></div><div class="item-related"><a href="https://tsibrov.blogspot.com/2017/10/blog-post.html" class="link"><img width="150" height="100" src="./Forum_LiquidCrystal_I2C_Menu_files/rotary_encoder.png"></a><h3><a href="https://tsibrov.blogspot.com/2017/10/blog-post.html">Работа с энкодером вращения с использованием прерываний</a></h3></div><div class="item-related"><a href="https://tsibrov.blogspot.com/2018/04/lcd-hd44780.html" class="link"><img width="150" height="100" src="./Forum_LiquidCrystal_I2C_Menu_files/lcd_i2c.png"></a><h3><a href="https://tsibrov.blogspot.com/2018/04/lcd-hd44780.html">Пара слов о текстовых LCD дисплеях</a></h3></div>
</div>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
<div class="comments" id="comments">
<a name="comments"></a>
<h4>100 комментариев:</h4>
<div class="comments-content">
<script async="async" src="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html" type="text/javascript"></script>
<script type="text/javascript">
    (function() {
      var items = null;
      var msgs = null;
      var config = {};

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        var text = (entry &&
                    ((entry.content && entry.content.$t) ||
                     (entry.summary && entry.summary.$t))) ||
            '';
        if (entry && entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + text + '</span>';
            }
          }
        }
        return text;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          replybox.src = '';
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
  </script>
<div id="comment-holder">
<div class="comment-thread toplevel-thread"><ol id="top-ra"><li class="comment" id="c7314908204498199061"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/12013257214666320369" rel="nofollow">Дмитрий</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1601127232910#c7314908204498199061">26 сентября 2020 г., 16:33</a></span></div><p class="comment-content">Доброго времени суток !<br>пытаюсь реализовать под свои цели ваши наработки.<br>Сражаюсь вот с чем.<br>При бездействии на главном экране получилось сделать авто откл подсветки,а вот если в меню или режим  редактирования параметра...через заданную задержку времени ,если режим редактирования,сохраняет значение и выходит из меню и делает Back на главный экран.<br>Знаний маловато,не получается реализовать</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7314908204498199061" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1579292641"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7314908204498199061">Удалить</a></span></span></div><div class="comment-replies"><div id="c7314908204498199061-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7314908204498199061-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c4295784581369732641"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1601141336167#c4295784581369732641">26 сентября 2020 г., 20:28</a></span></div><p class="comment-content">Добрый день!<br>Не понял. Вам нужен выход из меню и других функций по таймауту? Я думал добавить такую возможность. Но только не с сохранением параметра, его же не подтвердили.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=4295784581369732641">Удалить</a></span></span></div><div class="comment-replies"><div id="c4295784581369732641-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c4295784581369732641-ra" class="thread-chrome thread-expanded"><div></div><div id="c4295784581369732641-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4295784581369732641" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c4295784581369732641-ce"></div></li></div><div id="c7314908204498199061-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7314908204498199061" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7314908204498199061-ce"></div></li><li class="comment" id="c8749293928235690295"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/12013257214666320369" rel="nofollow">Дмитрий</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1601234156358#c8749293928235690295">27 сентября 2020 г., 22:15</a></span></div><p class="comment-content">Не входя в меню ,получилось своять таймер автоотключения подсветки.<br>НУ а если в меню или режим редактирования  параметра - никак.<br>Если просто в меню,спустя таймаут - автовыход из меню и откл подсветки дисплея.<br>Если в режиме редактирования - выход из режима редактирования спустя таймаут без сохранения выставленного параметра,а следом без таймаута выход из меню,хотя можна и так (таймаут_меню + +таймаут_в режиме_редактирования).</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="8749293928235690295" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1579292641"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=8749293928235690295">Удалить</a></span></span></div><div class="comment-replies"><div id="c8749293928235690295-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c8749293928235690295-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c1301686890609410259"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1601397234695#c1301686890609410259">29 сентября 2020 г., 19:33</a></span></div><p class="comment-content">Добавил параметр INACTIVITY_TIMEOUT в LiquidCrystal_I2C_Menu.h. Он для выхода из меню и других функций. Скачайте новую версию из репозитория.<br>Управление подсветкой внутри библиотеки не получится сделать логичным. Это надо делать глобально в основной программе. Не стОит оно того.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1301686890609410259">Удалить</a></span></span></div><div class="comment-replies"><div id="c1301686890609410259-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1301686890609410259-ra" class="thread-chrome thread-expanded"><div></div><div id="c1301686890609410259-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1301686890609410259" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1301686890609410259-ce"></div></li></div><div id="c8749293928235690295-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8749293928235690295" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c8749293928235690295-ce"></div></li><li class="comment" id="c7296328536882141040"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/12013257214666320369" rel="nofollow">Дмитрий</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1601398679088#c7296328536882141040">29 сентября 2020 г., 19:57</a></span></div><p class="comment-content">Ой спасибо ! буду пробовать </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7296328536882141040" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1579292641"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7296328536882141040">Удалить</a></span></span></div><div class="comment-replies"><div id="c7296328536882141040-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7296328536882141040-ra" class="thread-chrome thread-expanded"><div></div><div id="c7296328536882141040-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7296328536882141040" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7296328536882141040-ce"></div></li><li class="comment" id="c8437046903489453943"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/12013257214666320369" rel="nofollow">Дмитрий</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1601401495577#c8437046903489453943">29 сентября 2020 г., 20:44</a></span></div><p class="comment-content">LiquidCrystal_I2C_Menu/examples/selectVal_2/selectVal_2.ino<br>Захожу в меню,галочка выбранного ранее варианта стоит,больше не чего не делаю.Через минуту на месте ,где установлен курсор,срабатывает один клик(без моего участия) по кнопке и всё,и больше нечего не происходит.А если сделал выбор пункта подменю,один раз нажал(галочка поставилась,второй раз нажал,подтвердил- то через минуту нечего не происходит<br>То в своей поделке использую,вот пока так <br>Какая переменная меняет состояние,в зависимости от того, в меню в данный момент или нет,чтоб реализовать таймер отключения подсветки  на главном экране.<br>Ещё раз прошу прощения,учусь<br></p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="8437046903489453943" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1579292641"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=8437046903489453943">Удалить</a></span></span></div><div class="comment-replies"><div id="c8437046903489453943-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c8437046903489453943-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c2063410578176164006"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1601405671040#c2063410578176164006">29 сентября 2020 г., 21:54</a></span></div><p class="comment-content">Функция selectVal всегда возвращает целое число (индекс выбранного элемента). В том числе при завершении по таймауту. В примере selectVal_2.ino функция по таймауту вернет значение 0 (потому что preselected = 0), что равносильно клику на первом элементе.<br><br>Еще раз: при выходе по таймауту selectVal возвращает значение preselected.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=2063410578176164006">Удалить</a></span></span></div><div class="comment-replies"><div id="c2063410578176164006-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c2063410578176164006-ra" class="thread-chrome thread-expanded"><div></div><div id="c2063410578176164006-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2063410578176164006" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c2063410578176164006-ce"></div></li></div><div id="c8437046903489453943-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8437046903489453943" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c8437046903489453943-ce"></div></li><li class="comment" id="c3054421280143584346"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/16950276728023592138" rel="nofollow">Игорь</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1605104444504#c3054421280143584346">11 ноября 2020 г., 17:20</a></span></div><p class="comment-content">Доброго вресени суток!<br>В описании сказано что функцию GetSelectedMenuItem можно использовать в обработчиках, но обработчик, вызванный из меню и находящийся вне основного цикла (Loop) не имеет доступа к переменной SelectedMenuItem. Возможно ли определить выбранный пункт меню в таком случае?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="3054421280143584346" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-494461320"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=3054421280143584346">Удалить</a></span></span></div><div class="comment-replies"><div id="c3054421280143584346-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c3054421280143584346-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c5177464336781222087"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1605105435243#c5177464336781222087">11 ноября 2020 г., 17:37</a></span></div><p class="comment-content">Добрый день!<br>Не понял вопроса. Можете пояснить, привести пример кода?</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5177464336781222087">Удалить</a></span></span></div><div class="comment-replies"><div id="c5177464336781222087-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5177464336781222087-ra" class="thread-chrome thread-expanded"><div></div><div id="c5177464336781222087-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5177464336781222087" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5177464336781222087-ce"></div></li><li class="comment" id="c5102521428942941487"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1605105729315#c5102521428942941487">11 ноября 2020 г., 17:42</a></span></div><p class="comment-content">Если речь о том, что обработчик не видит переменную SelectedMenuItem, объявленную в loop (или любой другой функции), то это само собой, ведь SelectedMenuItem - это локальная переменная. Внутри обработчика нет необходимости использовать именно ту переменную, можно объявить свою с любым именем.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5102521428942941487">Удалить</a></span></span></div><div class="comment-replies"><div id="c5102521428942941487-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5102521428942941487-ra" class="thread-chrome thread-expanded"><div></div><div id="c5102521428942941487-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5102521428942941487" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5102521428942941487-ce"></div></li></div><div id="c3054421280143584346-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3054421280143584346" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c3054421280143584346-ce"></div></li><li class="comment" id="c454466136213400097"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/03685084439912988435" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1605225930200#c454466136213400097">13 ноября 2020 г., 03:05</a></span></div><p class="comment-content">Hai, salam bahagia <br>Nama saya muhamad Sayid akil dari Indonesia. Saya tertarik dalam source code yang Anda kembangkan dan sangat menakjubkan. Saya masih awam dalam arduino, saya ingin melakukan pengembangan lanjutan meski tidak tau berhasil atau tidak dan apabila berhasil apakah saya boleh menambahkan source anda yang Anda kerjakan ini, saya harap boleh. Saya bahkan sangat kesulitan yang source anda gunakan yang menggunakan encoder dan saya edit menggunakan tombol, 5 hari belum berhasil, dan akhirnya saya mencoba menggunakan versi yng menggunakan liblary tambahan dari anda 😂. Apabila boleh saya akan menempatkan nama Anda di dalam lcd sebagai Contributor dan mungkin saya akan melakukan donasi untuk anda ( apabila barang ini ternyata ada yang minat, saya aga kesulitan mencari email anda di dalam github sekalipun. Mohon balas di dalam email : muhamadsayidakil19@gmail.com<br><br> Terima kasih salam bahagia, semoga hari anda menyenangkan.. </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="454466136213400097" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1542239604"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=454466136213400097">Удалить</a></span></span></div><div class="comment-replies"><div id="c454466136213400097-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c454466136213400097-ra" class="thread-chrome thread-expanded"><div></div><div id="c454466136213400097-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="454466136213400097" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c454466136213400097-ce"></div></li><li class="comment" id="c7314256227243902413"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/04085089234579669073" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1606226325622#c7314256227243902413">24 ноября 2020 г., 16:58</a></span></div><p class="comment-content">Здравствуйте! Возникла проблема при использовании функции inputVal. Необходимо ввести сначала десятые затем целые числа в переменную, в окне с различными параметрами. Так вот при вводе почему то невозможно установить курсор в определенном месте, и получается что сначала ввод происходит внизу потом вверху дисплея( Да и еще подскажите пожалуйста возможно ли отключить выход из меню при бездействии?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7314256227243902413" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1755530373"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7314256227243902413">Удалить</a></span></span></div><div class="comment-replies"><div id="c7314256227243902413-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7314256227243902413-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c267092926482259835"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1606234221017#c267092926482259835">24 ноября 2020 г., 19:10</a></span></div><p class="comment-content">Добрый день!<br>Чтобы отключить выход из меню закомментируйте в файле LiquidCrystal_I2C_Menu.h следующую строку:<br>#define INACTIVITY_TIMEOUT 60000 // Таймаут бездействия до выхода из функций<br><br>А про ввод чисел я что-то не понял. Если вы используете функцию inputVal, то она всегда очищает дисплей и ввод значения осуществляется на второй строке (если заголовок пустой, то на первой строке).<br>Если используется inputValAt, то она ничего не очищает и ввод осуществляется с указанной позиции. В параметрах сначала указывается x, потом y:<br>inputValAt(x, y, min, max, default, step = 1, [*onChangeFunc = NULL])<br><br>Вы x и y перепутали?</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=267092926482259835">Удалить</a></span></span></div><div class="comment-replies"><div id="c267092926482259835-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c267092926482259835-ra" class="thread-chrome thread-expanded"><div></div><div id="c267092926482259835-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="267092926482259835" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c267092926482259835-ce"></div></li><li class="comment" id="c8012325011139080900"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/04085089234579669073" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1606732269078#c8012325011139080900">30 ноября 2020 г., 13:31</a></span></div><p class="comment-content">Да нет, оказывается была ошибка в параметрах, вроде бы разобрался. Еще такой вопрос: возможно ли вводить значения функции inputVal в реальном времени, без использования подтверждения, с помощью мощности библиотеки?</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1755530373"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=8012325011139080900">Удалить</a></span></span></div><div class="comment-replies"><div id="c8012325011139080900-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c8012325011139080900-ra" class="thread-chrome thread-expanded"><div></div><div id="c8012325011139080900-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8012325011139080900" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c8012325011139080900-ce"></div></li><li class="comment" id="c1249422084764812728"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1606733768517#c1249422084764812728">30 ноября 2020 г., 13:56</a></span></div><p class="comment-content">"возможно ли вводить значения функции inputVal в реальном времени"<br>- вот только на днях обновил библиотеку, добавил параметр для привязки функции, которая будет вызываться при изменении значения функциями inputVal и inputValAt. В публикации это описано. Скачайте последнюю версию библиотеки с гитхаба. Там и пример есть.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1249422084764812728">Удалить</a></span></span></div><div class="comment-replies"><div id="c1249422084764812728-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1249422084764812728-ra" class="thread-chrome thread-expanded"><div></div><div id="c1249422084764812728-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1249422084764812728" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1249422084764812728-ce"></div></li><li class="comment" id="c2903709558464421324"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/04085089234579669073" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1607684928688#c2903709558464421324">11 декабря 2020 г., 14:08</a></span></div><p class="comment-content">Спасибо, совсем не успеваю за прогрессом)<br>А вы не планировали ввести например обработку двойного нажатия кнопки энкоддера или обработку вращения с зажатой кнопкой?</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1755530373"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=2903709558464421324">Удалить</a></span></span></div><div class="comment-replies"><div id="c2903709558464421324-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c2903709558464421324-ra" class="thread-chrome thread-expanded"><div></div><div id="c2903709558464421324-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2903709558464421324" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c2903709558464421324-ce"></div></li><li class="comment" id="c866411416986476968"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1607693627915#c866411416986476968">11 декабря 2020 г., 16:33</a></span></div><p class="comment-content">Пока нет такого в планах. <br>Сейчас подумываю сделать подобную библиотеку для графических дисплеев, работающих с библиотеками Adafruit</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=866411416986476968">Удалить</a></span></span></div><div class="comment-replies"><div id="c866411416986476968-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c866411416986476968-ra" class="thread-chrome thread-expanded"><div></div><div id="c866411416986476968-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="866411416986476968" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c866411416986476968-ce"></div></li><li class="comment" id="c8659669003014991767"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/04085089234579669073" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608131995841#c8659669003014991767">16 декабря 2020 г., 18:19</a></span></div><p class="comment-content">И снова у меня вопрос... Не могли бы вы подсказать, как завести в прерывание функцию inputVal? Иначе совсем не получается изменять привязанную к ней переменную или это осущесвляется некорректно.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1755530373"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=8659669003014991767">Удалить</a></span></span></div><div class="comment-replies"><div id="c8659669003014991767-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c8659669003014991767-ra" class="thread-chrome thread-expanded"><div></div><div id="c8659669003014991767-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8659669003014991767" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c8659669003014991767-ce"></div></li><li class="comment" id="c5830098308768344286"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608145425270#c5830098308768344286">16 декабря 2020 г., 22:03</a></span></div><p class="comment-content">А зачем именно в прерывании?<br>Если без прерывания никак, то в нём надо устанавливать флаг, который будет анализироваться основной программой. Если флаг установлен, то делаем что нам нужно и сбрасываем его. А помещать inputVal в обработчик неправильно. </p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5830098308768344286">Удалить</a></span></span></div><div class="comment-replies"><div id="c5830098308768344286-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5830098308768344286-ra" class="thread-chrome thread-expanded"><div></div><div id="c5830098308768344286-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5830098308768344286" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5830098308768344286-ce"></div></li><li class="comment" id="c5973846670439091133"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/04085089234579669073" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608157289032#c5973846670439091133">17 декабря 2020 г., 01:21</a></span></div><p class="comment-content">А разве есть другие варианты? И к тому же вроде как если использовать attachInterrupt 2 и 3 пины у нас заняты энкоддером. </p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1755530373"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5973846670439091133">Удалить</a></span></span></div><div class="comment-replies"><div id="c5973846670439091133-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5973846670439091133-ra" class="thread-chrome thread-expanded"><div></div><div id="c5973846670439091133-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5973846670439091133" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5973846670439091133-ce"></div></li><li class="comment" id="c478254926894089803"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608216876589#c478254926894089803">17 декабря 2020 г., 17:54</a></span></div><p class="comment-content">Энкодер можно подключить к любым другим пинам. И указать их функцией attachEncoder(pinA, pinB, pinBtn).<br>И все-таки я не пойму, что вы хотите сделать. Поясните этот момент: "как завести в прерывание функцию inputVal? Иначе совсем не получается изменять привязанную к ней переменную".</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=478254926894089803">Удалить</a></span></span></div><div class="comment-replies"><div id="c478254926894089803-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c478254926894089803-ra" class="thread-chrome thread-expanded"><div></div><div id="c478254926894089803-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="478254926894089803" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c478254926894089803-ce"></div></li><li class="comment" id="c4848809339183832510"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/04085089234579669073" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608241382890#c4848809339183832510">18 декабря 2020 г., 00:43</a></span></div><p class="comment-content">Постараюсь объяснить: имеется большое количество кода, различные вычисления и тд. Необходимо сделать первичный приоритет у энкоддера, что бы в любом куске кода с него могли считываться значения и вызывалась функция onChangeFunc, чтобы уже вносились изменения в параметры вычислений. По типу некоторого блока питания<br> А насчет пинов, почему то мне всегда казалось, что энккодер использует 2 и 3 пины только из за доступных прерываний на них. Думал в библиотеке это как то реализовано, поэтому и спрашиваю у вас)   </p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1755530373"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=4848809339183832510">Удалить</a></span></span></div><div class="comment-replies"><div id="c4848809339183832510-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c4848809339183832510-ra" class="thread-chrome thread-expanded"><div></div><div id="c4848809339183832510-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4848809339183832510" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c4848809339183832510-ce"></div></li><li class="comment" id="c2836734741386483000"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608367305299#c2836734741386483000">19 декабря 2020 г., 11:41</a></span></div><p class="comment-content">Итак, вы хотите изменять значение некоторого параметра энкодером, в том числе не вызывая меню и функцию inputVal. Посмотрите цикл loop в этом скетче: https://drive.google.com/open?id=1nF2Kz0qNvdQfpgzyLa9GIOZ_j9P-prjb<br><br>В нём проверяется состояние энкодера. При нажатии кнопки вызывается меню. А при вращении влево/вправо либо изменяется громкость, либо включается предыдущая/следующая радиостанция (в зависимости от состояния переменной EncoderPurpose). Эти действия можно выполнить и через меню, а так получается вроде быстрого доступа. Думаю, вам подойдет такая логика работы. После опроса энкодера можно вставить ваш код с вычислениями.<br><br>Здесь нет приоритета у энкодера. Когда выполнение дойдёт до его опроса, тогда и будет зафиксировано его вращение, тогда и изменится ваш параметр. Но вряд ли это проблема, ведь это взаимодействие с пользователем, здесь не требуется мгновенная реакция. Или ваш код с вычислениями выполняется долго и его нужно прерывать энкодером?<br><br>Энкодер в библиотеке опрашивается программно, без прерываний, поэтому пины могут использоваться любые. Но я всё равно часто использую 2 и 3 пины, чтобы можно было разрешить на них прерывания и выводить микроконтроллер из спящего режима энкодером.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=2836734741386483000">Удалить</a></span></span></div><div class="comment-replies"><div id="c2836734741386483000-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c2836734741386483000-ra" class="thread-chrome thread-expanded"><div></div><div id="c2836734741386483000-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2836734741386483000" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c2836734741386483000-ce"></div></li></div><div id="c7314256227243902413-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7314256227243902413" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7314256227243902413-ce"></div></li><li class="comment" id="c287865328518014977"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/11032023382194618275" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1606675141038#c287865328518014977">29 ноября 2020 г., 21:39</a></span></div><p class="comment-content">Здравствуйте! Будет ли Ваша библиотека работать с дисплеем без I2C ?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="287865328518014977" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-705475618"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=287865328518014977">Удалить</a></span></span></div><div class="comment-replies"><div id="c287865328518014977-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c287865328518014977-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c7504721933355359344"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1606678105546#c7504721933355359344">29 ноября 2020 г., 22:28</a></span></div><p class="comment-content">Добрый день!<br>Если только перенести все мои функции в библиотеку LiquidCrystal.<br><br>Мой код не привязан к типу дисплея. Он вызывает функции print, setCursor, createChar и т.п. - они одинаковы для обеих библиотек (LiquidCrystal и LiquidCrystal_I2C). Поэтому если Вы скопируете весь добавленный мною код в библиотеку LiquidCrystal, то сможете использовать его для дисплеев без I2C.<br><br>В принципе тут нет ничего сложного: копируете/вставляете фрагменты кода, по тексту заменяете LiquidCrystal_I2C_Menu на LiquidCrystal_Menu. Попробуйте.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7504721933355359344">Удалить</a></span></span></div><div class="comment-replies"><div id="c7504721933355359344-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7504721933355359344-ra" class="thread-chrome thread-expanded"><div></div><div id="c7504721933355359344-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7504721933355359344" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7504721933355359344-ce"></div></li></div><div id="c287865328518014977-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="287865328518014977" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c287865328518014977-ce"></div></li><li class="comment" id="c985497666183071312"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/01750142925840563506" rel="nofollow">Dorfman</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1607338705761#c985497666183071312">7 декабря 2020 г., 13:58</a></span></div><p class="comment-content">Приветствую, Владимир! <br>С глубоким уважением  рассматриваю Вашу новую версию. С ранних версий использую её только из-за эксклюзивов "PrintAt" и "inputAt", да ещё плюс энкодер в одном флаконе!  К сожалению, сам функционал меню я так и не смог подружить с многозадачностью, генератор на миллисах "виснет"(( Поэтому сейчас мудрю простой вариант "ручками". И вот, столкнулся с проблемой (возможно, не в библиотеке, а в моих корявых ручках). <br>Итак, у меня есть 7 пунктов меню, которые мне необходимо "мотать" энкодером вперёд-назад. За это отвечает переменная mainMenuState. Дабы не мотать выше или ниже диапазона, я ограничил переменную constrain-ом (от 0 до 6). Для удобства вывел её "контрольку" в уголке 2004. И всё бы хорошо, но при инкременте всё замечательно упирается в цифру 6, но вот при декременте после достижения нуля "проскакиваем" на шестёрку и ниже... Код вроде правильный. Пытался ограничить if-ами - тоже безоезультатно. Кусок кода прилагаю <br><br>void mainMenuHandler() { // ============== ОБРАБОТЧИК ГЛАВНОГО МЕНЮ<br>    // Опрашиваем энкодер<br>    <br>  eEncoderState EncoderState = lcd.getEncoderState();<br>        mainMenuPos = constrain(mainMenuPos, 0, 6);<br>  switch (EncoderState) {<br>    case eRight:  // При вращении вправо увеличиваем значение переменной<br>      mainMenuPos++;<br>//            if(mainMenuPos &gt;=6) mainMenuPos = 6;<br>      break;<br>    case eLeft:   // При вращении влево уменьшаем значение переменной<br>      mainMenuPos--;<br>//            if(mainMenuPos &lt;=0) mainMenuPos = 0;<br>      break;<br>    case eButton: // При нажатии кнопки энкодера переназначаем значение переменной<br>      mainMenuState = mainMenuPos;<br>      break;<br>    case eNone:   // Энкодер не вращается, кнопка не нажата. Выходим из функции<br>      return;<br>  }<br>}</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="985497666183071312" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1422171026"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=985497666183071312">Удалить</a></span></span></div><div class="comment-replies"><div id="c985497666183071312-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c985497666183071312-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c4434027225662693481"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1607405655354#c4434027225662693481">8 декабря 2020 г., 08:34</a></span></div><p class="comment-content">Добрый день!<br>Попробуйте вот так:<br><br>void mainMenuHandler() { // ============== ОБРАБОТЧИК ГЛАВНОГО МЕНЮ<br>  // Опрашиваем энкодер<br><br>  eEncoderState EncoderState = lcd.getEncoderState();<br>  switch (EncoderState) {<br>    case eRight: // При вращении вправо увеличиваем значение переменной<br>      if(mainMenuPos &lt; 6) mainMenuPos++;<br>      break;<br>    case eLeft: // При вращении влево уменьшаем значение переменной<br>      if(mainMenuPos &gt; 0) mainMenuPos--;<br>      break;<br>    case eButton: // При нажатии кнопки энкодера переназначаем значение переменной<br>      mainMenuState = mainMenuPos;<br>      break;<br>    case eNone:<br>      return;<br>  }<br>}</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=4434027225662693481">Удалить</a></span></span></div><div class="comment-replies"><div id="c4434027225662693481-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c4434027225662693481-ra" class="thread-chrome thread-expanded"><div></div><div id="c4434027225662693481-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4434027225662693481" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c4434027225662693481-ce"></div></li><li class="comment" id="c5647061677907856791"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/01750142925840563506" rel="nofollow">Dorfman</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1607648347048#c5647061677907856791">11 декабря 2020 г., 03:59</a></span></div><p class="comment-content">Спасибо, заработало. Я как-то даже и не подумал ТАК ограничивать... Однако всё же непонятен смысл функции CONSTRAIN...</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1422171026"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5647061677907856791">Удалить</a></span></span></div><div class="comment-replies"><div id="c5647061677907856791-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5647061677907856791-ra" class="thread-chrome thread-expanded"><div></div><div id="c5647061677907856791-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5647061677907856791" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5647061677907856791-ce"></div></li></div><div id="c985497666183071312-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="985497666183071312" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c985497666183071312-ce"></div></li><li class="comment" id="c1749053888377402066"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/09601097425962892137" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608154191902#c1749053888377402066">17 декабря 2020 г., 00:29</a></span></div><p class="comment-content">Огромное спасибо за библиотеку!<br>Для работы на ESP32 пришлось немного пошаманить, по какой то причине вот такие конструкции вызывают ошибку при компиляции.<br>min(_rows - _showMenuTitle, subMenuLen), выдает, что в первой части вместо uint8_t другой тип.<br>Заменил везде на такую конструкцию<br>uint8_t temp = _rows - _showMenuTitle;<br>min(temp, subMenuLen)<br>И все заработало.<br>Теперь осталось с энкодером разобраться, у меня энкодер ky-040 (hw-040), и инкремент происходит только после второго щелчка, не очень удобно получается.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="1749053888377402066" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1979003087"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1749053888377402066">Удалить</a></span></span></div><div class="comment-replies"><div id="c1749053888377402066-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1749053888377402066-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c8817109168467774902"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608217960360#c8817109168467774902">17 декабря 2020 г., 18:12</a></span></div><p class="comment-content">Пожалуйста!<br>Насчет энкодера. Функция getEncoderState определяет направление вращения в тот момент, когда пин A изменяется от 1 к 0. Это строка:<br>if ((!encoderA) &amp;&amp; (_pinAPrev)) {<br>Попробуйте изменить её на:<br>if (encoderA != _pinAPrev) {<br>чтобы условие выполнялось при каждом изменении пина A.<br></p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=8817109168467774902">Удалить</a></span></span></div><div class="comment-replies"><div id="c8817109168467774902-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c8817109168467774902-ra" class="thread-chrome thread-expanded"><div></div><div id="c8817109168467774902-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8817109168467774902" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c8817109168467774902-ce"></div></li><li class="comment" id="c608171423700895853"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/09601097425962892137" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608741956270#c608171423700895853">23 декабря 2020 г., 19:45</a></span></div><p class="comment-content">Нет, не сработало - на первый тик идет поворот в одну сторону, на второй тик поворот в противоположную сторону. В итоге стоим на месте. Попробую другой энкодер поискать.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1979003087"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=608171423700895853">Удалить</a></span></span></div><div class="comment-replies"><div id="c608171423700895853-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c608171423700895853-ra" class="thread-chrome thread-expanded"><div></div><div id="c608171423700895853-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="608171423700895853" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c608171423700895853-ce"></div></li><li class="comment" id="c8754484316523986119"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14448903135146604992" rel="nofollow">Evgviso</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1611690868031#c8754484316523986119">26 января 2021 г., 22:54</a></span></div><p class="comment-content">Здравствуйте! У меня такая же проблемка. У Вас же энкодер ky-040? Удалось его победить?</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1983274053"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=8754484316523986119">Удалить</a></span></span></div><div class="comment-replies"><div id="c8754484316523986119-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c8754484316523986119-ra" class="thread-chrome thread-expanded"><div></div><div id="c8754484316523986119-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8754484316523986119" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c8754484316523986119-ce"></div></li><li class="comment" id="c354533120378244071"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14448903135146604992" rel="nofollow">Evgviso</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1611699388709#c354533120378244071">27 января 2021 г., 01:16</a></span></div><p class="comment-content">Поменял в файле LiquidCrystal_I2C_Menu.cpp в процедуре getEncoderState() кусок кода <br>      if ((!encoderA) &amp;&amp; (_pinAPrev)) {<br>        if (encoderB) Result = eRight;<br>        else          Result = eLeft;<br>      }<br>на:<br>  if (_pinAPrev) {<br>   if (encoderA &amp;&amp; !encoderB) Result = eLeft;<br>   if (!encoderA &amp;&amp; encoderB) Result = eRight;<br>  } else {<br>   if (encoderA &amp;&amp; !encoderB) Result = eRight;<br>   if (!encoderA &amp;&amp; encoderB) Result = eLeft;<br>  }<br><br>и все заработало с одноимпульсным KY-40. Про два вида энкодеров KY-40 более-менее понятно написано тут https://alexgyver.ru/encoder/<br></p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1983274053"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=354533120378244071">Удалить</a></span></span></div><div class="comment-replies"><div id="c354533120378244071-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c354533120378244071-ra" class="thread-chrome thread-expanded"><div></div><div id="c354533120378244071-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="354533120378244071" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c354533120378244071-ce"></div></li></div><div id="c1749053888377402066-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1749053888377402066" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1749053888377402066-ce"></div></li><li class="comment" id="c351586985022907636"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/01750142925840563506" rel="nofollow">Dorfman</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608254036814#c351586985022907636">18 декабря 2020 г., 04:13</a></span></div><p class="comment-content">Этот комментарий был удален автором.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="351586985022907636" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin "><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=351586985022907636">Удалить</a></span></span></div><div class="comment-replies"><div id="c351586985022907636-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c351586985022907636-ra" class="thread-chrome thread-expanded"><div></div><div id="c351586985022907636-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="351586985022907636" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c351586985022907636-ce"></div></li><li class="comment" id="c5228709874015637479"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/01750142925840563506" rel="nofollow">Dorfman</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608254513492#c5228709874015637479">18 декабря 2020 г., 04:21</a></span></div><p class="comment-content">Владимир, доброй ночи!<br>Наконец-то руки дошли, решил всё-таки попытаться докопаться до истины, но без Вашей помощи, видимо, не судьба. Моя задача - высвободить loop() от зависания из-за меню.<br><br>Чтобы не быть голословным:<br>У меня есть регулируемый энкодером задающий генератор на миллисах. Мне необходимо, чтобы при любом состоянии меню он работал. Как это реализовать? Пробовал в примере Using_handlers вставить свой генератор в loop, но он не хочет работать, запускается только при закомментированной строке вызова меню в лупе:<br>uint8_t selectedMenuItem = lcd.showMenu(menu, menuLen, 1);<br>Причём переменную для регулировки частоты генератора необходимо как раз получать из меню (inputVal). В первом примере с блинком это то, что мне надо, но это не многоуровневое меню. Я в полном замешательстве</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="5228709874015637479" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1422171026"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5228709874015637479">Удалить</a></span></span></div><div class="comment-replies"><div id="c5228709874015637479-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5228709874015637479-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c1734257411486456000"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608365187306#c1734257411486456000">19 декабря 2020 г., 11:06</a></span></div><p class="comment-content">Добрый день!<br>Боюсь с генератором на миллис не получится использовать такое меню.<br>Вам нужно было брать пример attachIdleFunc. В нём код, помещенный в функцию myIdleFunc, выполняется и при работе функций библиотеки, и внутри цикла loop. Тогда бы выполнение вашего кода не прерывалось при входе в меню. Но именно для генератора  на миллис такой вариант не подходит: перерисовка дисплея может занимать длительное время - десятки миллисекунд. Это как если бы вы вставили delay внутри кода генератора. Тут нужно, чтобы генератор работал на таймере и прерываниях, тогда к нему можно будет прикрутить меню.<br>В интернете немало скетчей генераторов на таймерах. Думаю, из них можно будет что-то сварганить. Будет время - посмотрю.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1734257411486456000">Удалить</a></span></span></div><div class="comment-replies"><div id="c1734257411486456000-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1734257411486456000-ra" class="thread-chrome thread-expanded"><div></div><div id="c1734257411486456000-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1734257411486456000" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1734257411486456000-ce"></div></li><li class="comment" id="c2207495182452242278"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/01750142925840563506" rel="nofollow">Dorfman</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608451504716#c2207495182452242278">20 декабря 2020 г., 11:05</a></span></div><p class="comment-content">Заранее премного благодарен!</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1422171026"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=2207495182452242278">Удалить</a></span></span></div><div class="comment-replies"><div id="c2207495182452242278-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c2207495182452242278-ra" class="thread-chrome thread-expanded"><div></div><div id="c2207495182452242278-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2207495182452242278" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c2207495182452242278-ce"></div></li></div><div id="c5228709874015637479-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5228709874015637479" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5228709874015637479-ce"></div></li><li class="comment" id="c6607241275574571610"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/00438763848733505961" rel="nofollow">Oswañd</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608426304042#c6607241275574571610">20 декабря 2020 г., 04:05</a></span></div><p class="comment-content">remarkable work Vladimir.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="6607241275574571610" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1439736538"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=6607241275574571610">Удалить</a></span></span></div><div class="comment-replies"><div id="c6607241275574571610-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c6607241275574571610-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c4207613355808218407"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1608455966794#c4207613355808218407">20 декабря 2020 г., 12:19</a></span></div><p class="comment-content">Thank you!</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=4207613355808218407">Удалить</a></span></span></div><div class="comment-replies"><div id="c4207613355808218407-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c4207613355808218407-ra" class="thread-chrome thread-expanded"><div></div><div id="c4207613355808218407-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4207613355808218407" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c4207613355808218407-ce"></div></li></div><div id="c6607241275574571610-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6607241275574571610" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c6607241275574571610-ce"></div></li><li class="comment" id="c9190653715194179221"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14448903135146604992" rel="nofollow">Evgviso</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1611614034298#c9190653715194179221">26 января 2021 г., 01:33</a></span></div><p class="comment-content">Владимир! Прекрасная работа! Спасибо Вам! Это то, что я искал</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="9190653715194179221" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1983274053"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=9190653715194179221">Удалить</a></span></span></div><div class="comment-replies"><div id="c9190653715194179221-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c9190653715194179221-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c8691570484759867378"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1611687023601#c8691570484759867378">26 января 2021 г., 21:50</a></span></div><p class="comment-content">Спасибо за отзыв!</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=8691570484759867378">Удалить</a></span></span></div><div class="comment-replies"><div id="c8691570484759867378-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c8691570484759867378-ra" class="thread-chrome thread-expanded"><div></div><div id="c8691570484759867378-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8691570484759867378" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c8691570484759867378-ce"></div></li></div><div id="c9190653715194179221-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="9190653715194179221" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c9190653715194179221-ce"></div></li><li class="comment" id="c791670314083922951"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/05840344750656187949" rel="nofollow">Michae1</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1613545424287#c791670314083922951">17 февраля 2021 г., 10:03</a></span></div><p class="comment-content">Этот комментарий был удален автором.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="791670314083922951" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin "><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=791670314083922951">Удалить</a></span></span></div><div class="comment-replies"><div id="c791670314083922951-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c791670314083922951-ra" class="thread-chrome thread-expanded"><div></div><div id="c791670314083922951-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="791670314083922951" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c791670314083922951-ce"></div></li><li class="comment" id="c8419356830937065354"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14856856691483309030" rel="nofollow">Сергей</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1614179415090#c8419356830937065354">24 февраля 2021 г., 18:10</a></span></div><p class="comment-content">Добрый день. Подстраиваю данное меню под свои нужды, и не могу сообразить, как отключить заголовок меню для 1602. -- "В качестве заголовка используется название родительского пункта меню. Отключение отображения заголовка полезно при использовании дисплея 1602." -- где отключить этот заголовок?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="8419356830937065354" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-888381926"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=8419356830937065354">Удалить</a></span></span></div><div class="comment-replies"><div id="c8419356830937065354-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c8419356830937065354-ra" class="thread-chrome thread-expanded"><div></div><div id="c8419356830937065354-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8419356830937065354" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c8419356830937065354-ce"></div></li><li class="comment" id="c628726719040492990"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14856856691483309030" rel="nofollow">Сергей</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1614236008936#c628726719040492990">25 февраля 2021 г., 09:53</a></span></div><p class="comment-content">Разобрался.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="628726719040492990" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-888381926"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=628726719040492990">Удалить</a></span></span></div><div class="comment-replies"><div id="c628726719040492990-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c628726719040492990-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c1604358349351665276"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1614237327554#c1604358349351665276">25 февраля 2021 г., 10:15</a></span></div><p class="comment-content">Добрый день.<br>Не успел ответить. Ну хорошо, что разобрались. Обращайтесь, если возникнут вопросы.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1604358349351665276">Удалить</a></span></span></div><div class="comment-replies"><div id="c1604358349351665276-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1604358349351665276-ra" class="thread-chrome thread-expanded"><div></div><div id="c1604358349351665276-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1604358349351665276" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1604358349351665276-ce"></div></li></div><div id="c628726719040492990-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="628726719040492990" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c628726719040492990-ce"></div></li><li class="comment" id="c3728792239353088415"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/02884173828952901835" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1614510585838#c3728792239353088415">28 февраля 2021 г., 14:09</a></span></div><p class="comment-content">Добрый день, никак не получается вывести кириллицу на экран, в экране прошита кириллица, кодами выводится, а напрямую никак, какие-то кракозябры, подскажите новичку, помогите разобраться пожалуйста! </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="3728792239353088415" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1083815051"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=3728792239353088415">Удалить</a></span></span></div><div class="comment-replies"><div id="c3728792239353088415-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c3728792239353088415-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c1359730497820540278"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1614526846092#c1359730497820540278">28 февраля 2021 г., 18:40</a></span></div><p class="comment-content">Добрый день.<br>Строку #define CYRILLIC_DISPLAY в .h файле раскомментировали? Скетч сохранили?</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1359730497820540278">Удалить</a></span></span></div><div class="comment-replies"><div id="c1359730497820540278-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1359730497820540278-ra" class="thread-chrome thread-expanded"><div></div><div id="c1359730497820540278-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1359730497820540278" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1359730497820540278-ce"></div></li><li class="comment" id="c1684402350870709547"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/02884173828952901835" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1615117299714#c1684402350870709547">7 марта 2021 г., 14:41</a></span></div><p class="comment-content">Добрый день, подскажите что значит раскомментировать? Я просто добавил эту строчку в верхней строке  скетча и установил вашу библиотеку</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1083815051"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1684402350870709547">Удалить</a></span></span></div><div class="comment-replies"><div id="c1684402350870709547-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1684402350870709547-ra" class="thread-chrome thread-expanded"><div></div><div id="c1684402350870709547-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1684402350870709547" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1684402350870709547-ce"></div></li><li class="comment" id="c1645173611012896569"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1615211955346#c1645173611012896569">8 марта 2021 г., 16:59</a></span></div><p class="comment-content">В папке с библиотекой есть файл LiquidCrystal_I2C_Menu.h<br>Откройте его в текстовом редакторе, поддерживающем UTF8. Я использую Notepad++<br>Найдите в нём указанную строку. По умолчанию она закомментирована - перед ней стоят 2 слэша.<br>Удалите эти 2 слэша и сохраните файл.<br></p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1645173611012896569">Удалить</a></span></span></div><div class="comment-replies"><div id="c1645173611012896569-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1645173611012896569-ra" class="thread-chrome thread-expanded"><div></div><div id="c1645173611012896569-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1645173611012896569" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1645173611012896569-ce"></div></li></div><div id="c3728792239353088415-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3728792239353088415" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c3728792239353088415-ce"></div></li><li class="comment" id="c5538534797687025325"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/02884173828952901835" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1615251679751#c5538534797687025325">9 марта 2021 г., 04:01</a></span></div><p class="comment-content">Спасибо за помощь! </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="5538534797687025325" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1083815051"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5538534797687025325">Удалить</a></span></span></div><div class="comment-replies"><div id="c5538534797687025325-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5538534797687025325-ra" class="thread-chrome thread-expanded"><div></div><div id="c5538534797687025325-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5538534797687025325" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5538534797687025325-ce"></div></li><li class="comment" id="c2475346400973553868"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/08540026770586191164" rel="nofollow">Дмитрий</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1616056652588#c2475346400973553868">18 марта 2021 г., 11:37</a></span></div><p class="comment-content">Владимир, добрый день. А можно увеличить в библиотеке количество символов для написания текста?<br>String list[] = {"Europa+", "Record", "DFM", "Retro FM", "Energy"};</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="2475346400973553868" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-428193742"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=2475346400973553868">Удалить</a></span></span></div><div class="comment-replies"><div id="c2475346400973553868-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c2475346400973553868-ra" class="thread-chrome thread-expanded"><div></div><div id="c2475346400973553868-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2475346400973553868" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c2475346400973553868-ce"></div></li><li class="comment" id="c4362896947506082585"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/05840344750656187949" rel="nofollow">Michae1</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1616250739084#c4362896947506082585">20 марта 2021 г., 17:32</a></span></div><p class="comment-content">Владимир Здравствуйте. Отличная работа, большое спасибо. В одном из своих проектов я использую 40х4 LCD. Библиотека https://forum.arduino.cc/index.php?topic=492553.0 Пытался приспособить Вашу библиотеку, но не получается. Может быть поможете?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="4362896947506082585" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-286693865"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=4362896947506082585">Удалить</a></span></span></div><div class="comment-replies"><div id="c4362896947506082585-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c4362896947506082585-ra" class="thread-chrome thread-expanded"><div></div><div id="c4362896947506082585-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4362896947506082585" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c4362896947506082585-ce"></div></li><li class="comment" id="c364856778920918963"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/08803399093244609174" rel="nofollow">Vasiliy</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1617344510702#c364856778920918963">2 апреля 2021 г., 09:21</a></span></div><p class="comment-content">Владимир Здравствуйте. Отличная работа, большое спасибо. В одном из своих проектов я использую ваш блок меню <br>#include <br>#include <br>LiquidCrystal_I2C_Menu lcd(0x27, 16, 2);<br>#include "FMTX.h"<br>// Пины, к которым подключен энкодер<br>#define pinCLK 2<br>#define pinDT  3<br>#define pinSW  4<br>double val = 0;<br>double x = 0;<br>float freg;<br>int brightness = 0;<br>int RF = 0;<br><br>int _delay = 10;<br><br>// Обработчики пунктов меню SetBrightness и SetDelay<br>// Используются для ввода значений brightness и _delay<br>void SetBrightness() {<br>  brightness = (lcd.inputValBitwise ("chastota", val, 3, 1, true));<br>  lcd.print("You entered: ");<br>    lcd.print(val);<br>}<br>void SetRF() {<br>  RF = (lcd.inputValBitwise ("UF", x, 3, 1, true));<br>  lcd.print("You entered: ");<br>    lcd.print(x);<br>}<br><br>void SetDelay() {<br>  _delay = lcd.inputVal("Input delay(ms)", 0, 20, _delay);<br>}<br><br>// Объявим перечисление, используемое в качестве ключа пунктов меню<br>enum {mkBack, mkRoot, mkOptions, mkSetBrightness, mkSetDelay, mkSetRF};<br><br>// Описание меню<br>// структура пункта меню: {ParentKey, Key, Caption, [Handler]}<br>sMenuItem menu[] = {<br>  {mkBack, mkRoot, "Main menu", NULL},<br>  {mkRoot, mkOptions, "Options", NULL},<br>  {mkOptions, mkSetBrightness, "SetBrightness", SetBrightness},<br>  {mkOptions, mkSetRF, "SetRF", SetRF},<br>  {mkOptions, mkSetDelay, "SetDelay", SetDelay},<br>  {mkOptions, mkBack, "Back", NULL},<br>  {mkRoot, mkBack, "Back", NULL}<br>  <br>};<br><br>uint8_t menuLen = sizeof(menu) / sizeof(sMenuItem);<br><br>void setup() {<br>  lcd.begin();<br>  lcd.attachEncoder(pinDT, pinCLK, pinSW);<br>}<br><br>void loop() {<br>  uint8_t selectedMenuItem = lcd.showMenu(menu, menuLen, 1); // Вызываем меню<br>  /* Реакция на выбор пунктов меню SetBrightness и SetDelay реализована<br>   * в функциях-обработчиках.<br>   * При необходимости здесь может располагаться анализ значения selectedMenuItem <br>   * для пунктов, не имеющих обработчиков:<br>     if (selectedMenuItem == ...) {...}<br>  */<br>  {  <br>void freg();<br>}<br>fmtx_set_freq(val);<br>{  <br>void fmtx_set_rfgain(u8 rfgain);<br>}<br>fmtx_set_rfgain(x);<br><br>}<br><br>У меня проблема в том что как сделать подтверждения в самом меню при изменения параметрах при нажатии знака подтверждения.  У меня подтверждается только когда я выхожу в блок основного меню. Спасибо за помощь! </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="364856778920918963" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1800144212"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=364856778920918963">Удалить</a></span></span></div><div class="comment-replies"><div id="c364856778920918963-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c364856778920918963-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c3564617031787069694"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1618733204644#c3564617031787069694">18 апреля 2021 г., 11:06</a></span></div><p class="comment-content">Добрый день!<br>Не мог ответить раньше.<br>Что понимаете под подтверждением параметра? - Вызов функций fmtx_set_freq(val), void fmtx_set_rfgain(u8 rfgain)? Вызывайте их из обработчика, когда меняется сам параметр.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=3564617031787069694">Удалить</a></span></span></div><div class="comment-replies"><div id="c3564617031787069694-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c3564617031787069694-ra" class="thread-chrome thread-expanded"><div></div><div id="c3564617031787069694-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3564617031787069694" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c3564617031787069694-ce"></div></li><li class="comment" id="c1932442525285791387"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/08803399093244609174" rel="nofollow">Vasiliy</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1618813584360#c1932442525285791387">19 апреля 2021 г., 09:26</a></span></div><p class="comment-content">Спасибо что ответили Владимир. <br>Под подтверждением параметра я понимаю что в донам меню с права есть галочка на которую при нажатии должен применяться восстановленное значения.А у меня получается  что параметр изменяется только тогда когда я выхожу в основной блок меню.Простите мою не грамотность но не могли бы объяснить что Вы имели в виду Вызывайте их из обработчика, когда меняется сам параметр.<br>Владимир еще хотел Вас спросить как в даный скейч можно добавить регулированый аналоговый или ШИМ выход от 1.0 до 4.9 вольт<br>Я пробовал добавить то что находил в сети но у меня не как не хочет работать с Вашим меню  Пожалуйста помогите .<br></p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1800144212"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1932442525285791387">Удалить</a></span></span></div><div class="comment-replies"><div id="c1932442525285791387-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1932442525285791387-ra" class="thread-chrome thread-expanded"><div></div><div id="c1932442525285791387-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1932442525285791387" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1932442525285791387-ce"></div></li><li class="comment" id="c7466817422309635719"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1619027292632#c7466817422309635719">21 апреля 2021 г., 20:48</a></span></div><p class="comment-content">Когда вы выбираете в меню один из пунктов SetBrightness, SetRF или SetDelay, вызывается соответствующая функция. Вызвалась, например, функция SetRF. Что вам в ней нужно сделать? Ввести значение переменной RF? Это в функции есть. А что собираетесь делать дальше с введённым значением? Как-то использовать его, применить, верно? Вот и примените его  сразу после ввода, в функции SetRF.<br>Для шим используйте стандартную функцию analogWrite</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7466817422309635719">Удалить</a></span></span></div><div class="comment-replies"><div id="c7466817422309635719-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7466817422309635719-ra" class="thread-chrome thread-expanded"><div></div><div id="c7466817422309635719-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7466817422309635719" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7466817422309635719-ce"></div></li></div><div id="c364856778920918963-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="364856778920918963" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c364856778920918963-ce"></div></li><li class="comment" id="c2583846962580388996"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/03524776307884263805" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1622030425064#c2583846962580388996">26 мая 2021 г., 15:00</a></span></div><p class="comment-content">Владимир, здравствуйте! Не пойму что не так, пишу кириллицей А Б В Г Д, а выдает на дисплее ч ш ъ ы ь</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="2583846962580388996" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-630118948"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=2583846962580388996">Удалить</a></span></span></div><div class="comment-replies"><div id="c2583846962580388996-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c2583846962580388996-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c3007739017283601013"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1622102414827#c3007739017283601013">27 мая 2021 г., 11:00</a></span></div><p class="comment-content">Добрый день!<br>Скетч перед загрузкой в Ардуино сохраняете? Нужно обязательно сохранять, т.к. в противном случае он сохраняется во временную папку в другой кодировке.<br><br>Возможно, у вас в дисплее нестандартный шрифт, поэтому выводятся не те символы. Это можно проверить, загрузив в Ардуино следующий скетч. Он покажет прошитые в дисплей символы и соответствующие им коды. Их нужно сравнить с теми, которые прописаны в самом начале файла LiquidCrystal_I2C_Menu.cpp. Например, для вывода русской А мы берем англйскую, а для вывода Б берем символ с кодом 160 - это соответствие прописано в указанном файле. А какой у вас символ под кодом 160? Покрутите энкодером, чтобы добраться до него. Сравните так остальные русские символы. Если вы не подключаете энкодер, то можете просто в цикле вывести по очереди все коды с символами. С задержкой в несколько секунд, чтобы успеть посмотреть.<br><br>В общем, если ваш шрифт отличается, то нужно изменить соответствие в файле LiquidCrystal_I2C_Menu.cpp, чтобы выводились правильные буквы.<br><br><br>#include <br>#include <br>LiquidCrystal_I2C_Menu lcd(0x27, 20, 4);<br><br>// Пины, к которым подключен энкодер<br>#define pinCLK 2<br>#define pinDT  3<br>#define pinSW  4<br><br>byte x = 1;<br><br>void setup() {<br>  lcd.begin();<br>  lcd.attachEncoder(pinDT, pinCLK, pinSW);<br>  lcd.printfAt(0, 0, "%d - %c   ", x, x);<br>}<br><br>void loop() {<br>  // Опрашиваем энкодер<br>  eEncoderState EncoderState = lcd.getEncoderState();<br>  switch (EncoderState) {<br>    case eLeft:<br>      x--;<br>      break;<br>    case eRight:<br>      x++;<br>      break;<br>    case eButton:<br>      x = 1;<br>      break;<br>    case eNone:<br>      return;<br>  }<br>  lcd.printfAt(0, 0, "%d - %c   ", x, x);<br>}</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=3007739017283601013">Удалить</a></span></span></div><div class="comment-replies"><div id="c3007739017283601013-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c3007739017283601013-ra" class="thread-chrome thread-expanded"><div></div><div id="c3007739017283601013-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3007739017283601013" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c3007739017283601013-ce"></div></li><li class="comment" id="c7389492985317299500"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1622102474681#c7389492985317299500">27 мая 2021 г., 11:01</a></span></div><p class="comment-content">Инклуды вырезались:<br><br>#include "Wire.h"<br>#include "LiquidCrystal_I2C_Menu.h"</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7389492985317299500">Удалить</a></span></span></div><div class="comment-replies"><div id="c7389492985317299500-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7389492985317299500-ra" class="thread-chrome thread-expanded"><div></div><div id="c7389492985317299500-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7389492985317299500" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7389492985317299500-ce"></div></li></div><div id="c2583846962580388996-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2583846962580388996" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c2583846962580388996-ce"></div></li><li class="comment" id="c5957656257574784761"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1622179475833#c5957656257574784761">28 мая 2021 г., 08:24</a></span></div><p class="comment-content">Владимир спасибо за ответ и за скетч чтения символов! Заехал на работу, на флешку скинул библиотеку ранее скаченную с которой не возникло проблем со шрифтами в кириллице. Поменял библиотеки на домашнем ПК все заработало нормально. После вашей рекомендации опять установил "нерабочую" библиотеку - ВСЕ РАБОТАЕТ! В чем была проблема так и не понял. А вообще спасибо за ваше творение - библиотека СУПЕР!</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="5957656257574784761" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5957656257574784761">Удалить</a></span></span></div><div class="comment-replies"><div id="c5957656257574784761-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5957656257574784761-ra" class="thread-chrome thread-expanded"><div></div><div id="c5957656257574784761-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5957656257574784761" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5957656257574784761-ce"></div></li><li class="comment" id="c9075174116547780973"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1622186599079#c9075174116547780973">28 мая 2021 г., 10:23</a></span></div><p class="comment-content">Владимир, подскажите пожалуйста как заставить работать фрагмент кода:<br><br>float CorrectLenght_Y = 0.0;<br><br>else if (selectedMenuItem == mkSetCorrectLenght_Y) {<br>    CorrectLenght_Y = (lcd.inputValBitwise("Коррекция по Y", CorrectLenght_Y, 2, 1, true));<br>    EEPROM.update(4, CorrectLenght_Y);<br>    updateCaption(mkSetCorrectLenght_Y, "Коррекция по Y (%1.%1)", CorrectLenght_Y);<br>  }<br><br>Проблема в том, что не выводится число в updateCaption и нет записи в EEPROM</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="9075174116547780973" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=9075174116547780973">Удалить</a></span></span></div><div class="comment-replies"><div id="c9075174116547780973-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c9075174116547780973-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c4485922146736337901"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1622533669289#c4485922146736337901">1 июня 2021 г., 10:47</a></span></div><p class="comment-content">Не мог ответить раньше. Победили проблему? Если нет, то дело в следующем:<br><br>lcd.inputValBitwise возвращает true или false, чтобы бы понятно, подтвердили мы ввод нового значения или нет. Само значение будет передано во втором параметре, т.е. в переменной CorrectLenght_Y. Поэтому и в EEPROM сохранялось не то.<br><br>Кроме того реализация printf в avr gcc урезана для облегчения веса и по умолчанию не поддерживает числа с плавающей точкой. Поэтому для вывода значения CorrectLenght_Y в название пункта меню придётся преобразовать его в строку. Итого получается:<br><br>    if (lcd.inputValBitwise("Коррекция по Y", CorrectLenght_Y, 2, 1, true)) { // Если ввели новое значение CorrectLenght_Y<br>      char str[5];<br>      dtostrf(CorrectLenght_Y, 4, 1, str); // Преобразуем его в строку<br>      updateCaption(mkSetCorrectLenght_Y, "Коррекция по Y (%s)", str); // и выводим в меню<br>    }<br><br></p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=4485922146736337901">Удалить</a></span></span></div><div class="comment-replies"><div id="c4485922146736337901-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c4485922146736337901-ra" class="thread-chrome thread-expanded"><div></div><div id="c4485922146736337901-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4485922146736337901" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c4485922146736337901-ce"></div></li></div><div id="c9075174116547780973-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="9075174116547780973" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c9075174116547780973-ce"></div></li><li class="comment" id="c7057334353571034724"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1622549147997#c7057334353571034724">1 июня 2021 г., 15:05</a></span></div><p class="comment-content">Владимир,большое спасибо за ответ! Отказался от float в пользу целых чисел, переведя все в миллиметры, но с числами с плавающей точкой думаю еще предстоит столкнуться, так что еще раз спасибо. Переведя значения в миллиметры, энкодером стало затруднительно вводить тысячные значения с шагом в 1 мм, у вас нет случаем варианта работы библиотеки с клавиатурой? </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7057334353571034724" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7057334353571034724">Удалить</a></span></span></div><div class="comment-replies"><div id="c7057334353571034724-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7057334353571034724-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c3069015716314579665"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1622553681890#c3069015716314579665">1 июня 2021 г., 16:21</a></span></div><p class="comment-content">Для клавиатуры у меня нет</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=3069015716314579665">Удалить</a></span></span></div><div class="comment-replies"><div id="c3069015716314579665-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c3069015716314579665-ra" class="thread-chrome thread-expanded"><div></div><div id="c3069015716314579665-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3069015716314579665" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c3069015716314579665-ce"></div></li></div><div id="c7057334353571034724-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7057334353571034724" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7057334353571034724-ce"></div></li><li class="comment" id="c8930568746353937674"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1622702513106#c8930568746353937674">3 июня 2021 г., 09:41</a></span></div><p class="comment-content">Владимир, а добавление разрядов по двойному нажатию на кнопку энкодера сложно в библиотеку добавить? Например: по одному нажатию заходим в функцию lcd.inputVal, выставляем число, нажимаем 2 раза - появляется еще один разряд(десятки), опять двойной клик - еще разряд(сотни) и т.д. потом также по одному нажатию сохранение и выход из функции. Или может еще как то, не соображу как побыстрее можно выставить тысячные числа...</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="8930568746353937674" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=8930568746353937674">Удалить</a></span></span></div><div class="comment-replies"><div id="c8930568746353937674-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c8930568746353937674-ra" class="thread-chrome thread-expanded"><div></div><div id="c8930568746353937674-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8930568746353937674" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c8930568746353937674-ce"></div></li><li class="comment" id="c5086266258320828157"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1623328829854#c5086266258320828157">10 июня 2021 г., 15:40</a></span></div><p class="comment-content">Владимир, подскажите пожалуйста как можно выйти из меню находясь в функции?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="5086266258320828157" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5086266258320828157">Удалить</a></span></span></div><div class="comment-replies"><div id="c5086266258320828157-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5086266258320828157-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c6705852485040485050"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1623356605204#c6705852485040485050">10 июня 2021 г., 23:23</a></span></div><p class="comment-content">Если речь о том, чтобы при выходе из обработчика закрылось само меню, то никак. Потому что функции-обработчики здесь задумывались как раз для того, чтобы меню не закрывалось, и после выполнения обработчика мы оставались на том же пункте.<br><br>Чтобы выйти из меню при выборе какого-либо пункта, он не должен иметь обработчика. Тогда выполнение функции showMenu завершится, и она вернёт ключ выбранного пункта меню. Дальше анализируете этот ключ и выполняете нужные действия. Это есть в примере showMenu.ino.<br><br>Таким образом, есть 2 варианта обработки выбранного пункта меню:<br>1. С использованием функций-обработчиков. После чего происходит возврат в меню.<br>2. Путём анализа значение, возвращённого функцией showMenu. Для этого пункт не должен иметь обработчика. При выборе такого пункта будет происходить выход из меню.<br><br>А насчет добавления разрядов по двойному нажатию - это получится большая переделка.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=6705852485040485050">Удалить</a></span></span></div><div class="comment-replies"><div id="c6705852485040485050-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c6705852485040485050-ra" class="thread-chrome thread-expanded"><div></div><div id="c6705852485040485050-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6705852485040485050" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c6705852485040485050-ce"></div></li></div><div id="c5086266258320828157-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5086266258320828157" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5086266258320828157-ce"></div></li><li class="comment" id="c741619814899717966"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1623403207045#c741619814899717966">11 июня 2021 г., 12:20</a></span></div><p class="comment-content">Эх, жаль. Смысл как раз в том, чтобы после поочередного ввода настроек в обработчиках, находящихся в функции, при выборе положительного ответа сразу выйти из меню в цикл программы для выполнения действий. Работать с разрядами получилось через inputValBitwise по такой схеме lcd.inputValBitwise("Расстояние до нуля:", NullPointY, 4); Так что еще раз спасибо) </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="741619814899717966" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=741619814899717966">Удалить</a></span></span></div><div class="comment-replies"><div id="c741619814899717966-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c741619814899717966-ra" class="thread-chrome thread-expanded"><div></div><div id="c741619814899717966-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="741619814899717966" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c741619814899717966-ce"></div></li><li class="comment" id="c310595347121938457"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/13738666111909278933" rel="nofollow">Бутер бродский</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1629722555789#c310595347121938457">23 августа 2021 г., 15:42</a></span></div><p class="comment-content">Здравствуйте Владимир, как делается структура меню, а точнее смысл его, я ваш пример еле как переделал под свой, но так и не понял ни капли как это работает</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="310595347121938457" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-2115155865"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=310595347121938457">Удалить</a></span></span></div><div class="comment-replies"><div id="c310595347121938457-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c310595347121938457-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c2749344246747108188"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1629888607872#c2749344246747108188">25 августа 2021 г., 13:50</a></span></div><p class="comment-content">Добрый день!<br>Не поняли, как описать меню? А что тут непонятного, меню - это иерархическая структура, т.е. каждый пункт меню находится внутри другого, вышестоящего пункта. Такие структуры описываются в виде таблиц (в нашем случае массив), в которых содержится номер конкретного пункта, номер родительского пункта (эти два значения как раз позволяют описать иерархию элементов) и другая информация, названия и т.п.<br><br>У нас есть массив элементов типа sMenuItem. Этот тип описан выше в статье, он содержит параметр parent для указания родительского пункта и key - номер данного пункта. И чтобы не путаться здесь с номерами/числами, я использую вместо них символьные константы - перечисления, например:<br>enum {mkBack, mkRoot, mkRun, mkOptions, mkMode, mkSpeed, mkLog, mkSelftest, mkHelp, mkFAQ, mkIndex, mkAbout};<br><br>При компиляции эти символьные константы по тексту скетча заменятся числовыми значениями: вместо mkBack подставится 0, вместо mkRoot 1 и т.д. по порядку их объявления.<br><br>Продумываете своё меню, какие пункты в нём будет, и для каждого из них подбираете понятную символьную константу. Я в их именах использую префикс mk - это отсылка к MenuKey. Единственное требование к перечислению: первым в нём должно идти значение, используемое в меню для возврата на уровень выше (в примерах оно называется mkBack) чтобы ему соответствовало значение 0<br>Далее описываете меню, используя своё перечисление. Для читабельности я добавляю табуляцию для вложенных пунктов меню - сразу видно, что за чем идёт.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=2749344246747108188">Удалить</a></span></span></div><div class="comment-replies"><div id="c2749344246747108188-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c2749344246747108188-ra" class="thread-chrome thread-expanded"><div></div><div id="c2749344246747108188-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2749344246747108188" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c2749344246747108188-ce"></div></li></div><div id="c310595347121938457-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="310595347121938457" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c310595347121938457-ce"></div></li><li class="comment" id="c6623549963245951376"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10703439110711594156" rel="nofollow">Jose Rivas</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630361884892#c6623549963245951376">31 августа 2021 г., 01:18</a></span></div><p class="comment-content">Здравствуйте, Владимир, очень хороший вклад. Мне нужна небольшая помощь. Я новичок в Arduino. И мне очень нравится электроника. Но в программировании я очень пессимистичен.<br><br>Я хочу создать меню для своей SD-карты MP3-плеера<br>Где я могу перечислить все файлы MP3, когда я даю ему первый вариант и при выборе файла Mp3 введите звуковую функцию, если я верну ее, что она возвращается в тот же список, и поэтому я могу продолжать смотреть файлы Mp3 Большое спасибо много Если вы можете мне помочь, я был бы признателен.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="6623549963245951376" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1071807461"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=6623549963245951376">Удалить</a></span></span></div><div class="comment-replies"><div id="c6623549963245951376-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c6623549963245951376-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c1482549897615061919"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630511471367#c1482549897615061919">1 сентября 2021 г., 18:51</a></span></div><p class="comment-content">Добрый день!<br>Не понял вопрос. Вы используете библиотеку для вывода списка MP3 файлов, верно? Вы делаете это функцией selectVal? Или вы еще ничего не написали, и не знаете как это сделать?</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1482549897615061919">Удалить</a></span></span></div><div class="comment-replies"><div id="c1482549897615061919-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1482549897615061919-ra" class="thread-chrome thread-expanded"><div></div><div id="c1482549897615061919-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1482549897615061919" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1482549897615061919-ce"></div></li></div><div id="c6623549963245951376-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6623549963245951376" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c6623549963245951376-ce"></div></li><li class="comment" id="c5572185703706711178"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630490099242#c5572185703706711178">1 сентября 2021 г., 12:54</a></span></div><p class="comment-content">Подскажите пожалуйста, можно добавить в библиотеку длительное нажатие кнопки энкодера, очень надо!</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="5572185703706711178" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5572185703706711178">Удалить</a></span></span></div><div class="comment-replies"><div id="c5572185703706711178-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5572185703706711178-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c7546513785698996121"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630510949714#c7546513785698996121">1 сентября 2021 г., 18:42</a></span></div><p class="comment-content">Можно. И даже не очень сложно. Нужно будет внести изменения в функцию getEncoderState в файле LiquidCrystal_I2C_Menu.cpp. Сейчас в ней отслеживается момент нажатия кнопки. Нужно добавить фрагмент, который при нажатии запомнит текущее значение millis, а при следующих вызовах будет проверять: если кнопка нажата и при этом текущее значение millis минус запомненное значение &gt;= 1000 (период после которого считаем кнопку удерживаемой), то возвращаем соответствующее значение - его нужно будет добавить в перечисление<br>enum eEncoderState {eNone, eLeft, eRight, eButton};<br>в файле LiquidCrystal_I2C_Menu.h<br>- Несложно, но я сейчас не могу это сделать. Попробуйте.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7546513785698996121">Удалить</a></span></span></div><div class="comment-replies"><div id="c7546513785698996121-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7546513785698996121-ra" class="thread-chrome thread-expanded"><div></div><div id="c7546513785698996121-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7546513785698996121" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7546513785698996121-ce"></div></li></div><div id="c5572185703706711178-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5572185703706711178" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5572185703706711178-ce"></div></li><li class="comment" id="c9107955969765762104"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630520075754#c9107955969765762104">1 сентября 2021 г., 21:14</a></span></div><p class="comment-content">Здесь добавить?<br>eEncoderState LiquidCrystal_I2C_Menu::getEncoderState() {<br>  bool encoderA, encoderB;<br>  eEncoderState Result = eNone;<br>  if (millis() - _prevPoolTime &gt; ENCODER_POOL_DELAY) {<br>    _prevPoolTime = millis();<br>    if (digitalRead(_pinBtn) == LOW ) {<br>      if (_pinButtonPrev) {<br>        _pinButtonPrev = 0;<br>        Result = eButton;<br>      }<br>    }</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="9107955969765762104" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=9107955969765762104">Удалить</a></span></span></div><div class="comment-replies"><div id="c9107955969765762104-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c9107955969765762104-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c5136290199022302172"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630521004779#c5136290199022302172">1 сентября 2021 г., 21:30</a></span></div><p class="comment-content">да</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5136290199022302172">Удалить</a></span></span></div><div class="comment-replies"><div id="c5136290199022302172-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5136290199022302172-ra" class="thread-chrome thread-expanded"><div></div><div id="c5136290199022302172-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5136290199022302172" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5136290199022302172-ce"></div></li></div><div id="c9107955969765762104-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="9107955969765762104" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c9107955969765762104-ce"></div></li><li class="comment" id="c2767379300529185293"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630523020077#c2767379300529185293">1 сентября 2021 г., 22:03</a></span></div><p class="comment-content">Воистину день знаний) Завтра попробую разобраться. Спасибо!</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="2767379300529185293" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=2767379300529185293">Удалить</a></span></span></div><div class="comment-replies"><div id="c2767379300529185293-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c2767379300529185293-ra" class="thread-chrome thread-expanded"><div></div><div id="c2767379300529185293-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2767379300529185293" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c2767379300529185293-ce"></div></li><li class="comment" id="c7069478131760470446"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630575939203#c7069478131760470446">2 сентября 2021 г., 12:45</a></span></div><p class="comment-content">Нет, не получилось. После многократных попыток сделал откат. Прошу помощи.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7069478131760470446" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7069478131760470446">Удалить</a></span></span></div><div class="comment-replies"><div id="c7069478131760470446-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7069478131760470446-ra" class="thread-chrome thread-expanded"><div></div><div id="c7069478131760470446-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7069478131760470446" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7069478131760470446-ce"></div></li><li class="comment" id="c6998563156309817139"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630846894404#c6998563156309817139">5 сентября 2021 г., 16:01</a></span></div><p class="comment-content">Владимир, помогите пожалуйста, сам не разберусь. Короткое нажатие на кнопку энкодера уже задействовано, ввел еще одну кнопку для остановки/запуска процесса, не хватает входа в меню. Библиотека меню действительно получилась очень функциональная, сильно облегчает написание кода, особенно для начинающего, вроде меня. С удовольствием поддержал бы вашу авторскую работу если бы написали реквизиты. Заранее благодарен. Мой ящик m1tya52@yandex.ru </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="6998563156309817139" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=6998563156309817139">Удалить</a></span></span></div><div class="comment-replies"><div id="c6998563156309817139-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c6998563156309817139-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c3308394740723525745"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630872285740#c3308394740723525745">5 сентября 2021 г., 23:04</a></span></div><p class="comment-content">Постараюсь, найти время на неделе.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=3308394740723525745">Удалить</a></span></span></div><div class="comment-replies"><div id="c3308394740723525745-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c3308394740723525745-ra" class="thread-chrome thread-expanded"><div></div><div id="c3308394740723525745-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3308394740723525745" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c3308394740723525745-ce"></div></li><li class="comment" id="c462134960752290635"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1631033863756#c462134960752290635">7 сентября 2021 г., 19:57</a></span></div><p class="comment-content">Вы кстати как понимаете длительное нажатие? Например, нажали кнопку, держим, по прошествии X мс библиотека воспринимает это как долгое нажатие, и функция getEncoderState возвращает соответствующий результат (скажем, eButtonLong) каждые Y мс до тех пор пока кнопку не отпустят. По аналогии как в компьютере: пока держим, буква печатается снова и снова.<br><br>Или другой вариант: библиотека увидела, что кнопка удерживается, вернула 1 раз результат eButtonLong, и больше его не шлёт, пока кнопку не отпустят.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=462134960752290635">Удалить</a></span></span></div><div class="comment-replies"><div id="c462134960752290635-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c462134960752290635-ra" class="thread-chrome thread-expanded"><div></div><div id="c462134960752290635-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="462134960752290635" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c462134960752290635-ce"></div></li></div><div id="c6998563156309817139-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6998563156309817139" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c6998563156309817139-ce"></div></li><li class="comment" id="c5141558400971959066"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1630906387840#c5141558400971959066">6 сентября 2021 г., 08:33</a></span></div><p class="comment-content">Спасибо!</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="5141558400971959066" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5141558400971959066">Удалить</a></span></span></div><div class="comment-replies"><div id="c5141558400971959066-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5141558400971959066-ra" class="thread-chrome thread-expanded"><div></div><div id="c5141558400971959066-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5141558400971959066" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5141558400971959066-ce"></div></li><li class="comment" id="c5693166651009829938"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1631079587400#c5693166651009829938">8 сентября 2021 г., 08:39</a></span></div><p class="comment-content">Может я не совсем понимаю, но мне кажется второй вариант лучше в плане защиты от дребезга. Главное чтобы они не конфликтовали с однократным нажатием кнопки. У меня задумка в том, чтобы расширить функциональность работы с задачами программы. По однократному нажатию я работаю с функцией на главном экране(задаю параметр для перемещения каретки станка на заданные координаты), получается что для входа в меню идеальным вариантом было бы долгое нажатие кнопки энкодера, так как мы в данный момент работаем с дисплеем. Для запуска процессов работы станка вывел отдельную кнопку, так удобнее будет для оператора, сделал нужные настройки и стой на кнопку только жми)</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="5693166651009829938" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5693166651009829938">Удалить</a></span></span></div><div class="comment-replies"><div id="c5693166651009829938-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5693166651009829938-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c3073152380385700596"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1631475998222#c3073152380385700596">12 сентября 2021 г., 22:46</a></span></div><p class="comment-content">На неделе всё-таки не получилось.<br>Пробуйте:<br>https://drive.google.com/file/d/1KGgw8aIRIJz9DxkrB9WK9176X_-Y0mWb/view?usp=sharing<br>Время долгого нажатия прописано в LiquidCrystal_I2C_Menu, параметр BUTTON_LONG_PRESS, в нём сейчас 1 секунда. Также в архиве есть пример.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=3073152380385700596">Удалить</a></span></span></div><div class="comment-replies"><div id="c3073152380385700596-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c3073152380385700596-ra" class="thread-chrome thread-expanded"><div></div><div id="c3073152380385700596-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3073152380385700596" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c3073152380385700596-ce"></div></li><li class="comment" id="c6411531041457935070"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1631517325381#c6411531041457935070">13 сентября 2021 г., 10:15</a></span></div><p class="comment-content">Спасибо, что выбрали время. В примерах все красиво работает, но у меня меню выстроено по другому примеру и в нем работает только одна из функций, либо с eButton либо eLongButton в зависимости в какой последовательности они находятся в цикле. <br><br>if (lcd.getEncoderState() == eButton) { <br>    lcd.inputValBitwise("Переместиться по Y:", SetPos_Y, 4);<br>    if (SetPos_Y &gt; NullPoint_Y) SetPos_Y = NullPoint_Y + Correct_Y;<br>    StepPos_Y = SetPos_Y * 10;<br>    lcd.printfAt(6, 0, "&gt;%d", SetPos_Y);<br>    stepper1.setTarget(StepPos_Y);<br>  }<br>  if (lcd.getEncoderState() == eLongButton) {<br>    byte selectedMenuItem = lcd.showMenu(menu, menuLen, 1);<br>  }<br><br>Так работает только eButton. <br><br>if (lcd.getEncoderState() == eLongButton) {<br>    byte selectedMenuItem = lcd.showMenu(menu, menuLen, 1);<br>  }<br>if (lcd.getEncoderState() == eButton) { <br>    lcd.inputValBitwise("Переместиться по Y:", SetPos_Y, 4);<br>    if (SetPos_Y &gt; NullPoint_Y) SetPos_Y = NullPoint_Y + Correct_Y;<br>    StepPos_Y = SetPos_Y * 10;<br>    lcd.printfAt(6, 0, "&gt;%d", SetPos_Y);<br>    stepper1.setTarget(StepPos_Y);<br>  }<br><br>Так только eLongButton. </p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=6411531041457935070">Удалить</a></span></span></div><div class="comment-replies"><div id="c6411531041457935070-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c6411531041457935070-ra" class="thread-chrome thread-expanded"><div></div><div id="c6411531041457935070-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6411531041457935070" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c6411531041457935070-ce"></div></li><li class="comment" id="c3570865223815642863"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1631526058813#c3570865223815642863">13 сентября 2021 г., 12:40</a></span></div><p class="comment-content">Это потому, что вы вызываете функцию getEncoderState несколько раз подряд. Если она вернёт состояние кнопки при первом вызове, то второй и последующие вернут eNone: предполагается, что вы уже обработали все ожидаемые значения при первом вызове, а следующий анализ состояния энкодера будет только через 5 мс (для кнопки, нажимаемой человеком, даже это слишком часто). Поэтому:<br>Объявляете переменную<br>записываете в неё значение, возвращённое функцией lcd.getEncoderState()<br>сравниваете значение этой переменной с eButton, eLongButton, eLeft и eRight<br>- всё как в примерах</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=3570865223815642863">Удалить</a></span></span></div><div class="comment-replies"><div id="c3570865223815642863-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c3570865223815642863-ra" class="thread-chrome thread-expanded"><div></div><div id="c3570865223815642863-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3570865223815642863" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c3570865223815642863-ce"></div></li><li class="comment" id="c4063810352263091899"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1631531307080#c4063810352263091899">13 сентября 2021 г., 14:08</a></span></div><p class="comment-content">Владимир, спасибо БОЛЬШОЕ, все работает! Давайте презентую на поддержку проекта?</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=4063810352263091899">Удалить</a></span></span></div><div class="comment-replies"><div id="c4063810352263091899-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c4063810352263091899-ra" class="thread-chrome thread-expanded"><div></div><div id="c4063810352263091899-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4063810352263091899" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c4063810352263091899-ce"></div></li><li class="comment" id="c6653570726162293007"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1631548128706#c6653570726162293007">13 сентября 2021 г., 18:48</a></span></div><p class="comment-content">Ну это необязательно. Я ведь не ради денег помогаю. Но если прям хочется отблагодарить, можете, например, закинуть мне на телефон (89209004339), сколько посчитаете нужным.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=6653570726162293007">Удалить</a></span></span></div><div class="comment-replies"><div id="c6653570726162293007-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c6653570726162293007-ra" class="thread-chrome thread-expanded"><div></div><div id="c6653570726162293007-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6653570726162293007" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c6653570726162293007-ce"></div></li><li class="comment" id="c552565432595887248"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1631556707473#c552565432595887248">13 сентября 2021 г., 21:11</a></span></div><p class="comment-content">Здорово когда люди выкладывают в свободный доступ свои труды не ради денег, тем более когда они действительно полезны. Закинул немножко. Еще раз спасибо! </p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=552565432595887248">Удалить</a></span></span></div><div class="comment-replies"><div id="c552565432595887248-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c552565432595887248-ra" class="thread-chrome thread-expanded"><div></div><div id="c552565432595887248-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="552565432595887248" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c552565432595887248-ce"></div></li></div><div id="c5693166651009829938-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5693166651009829938" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5693166651009829938-ce"></div></li><li class="comment" id="c162437391568422301"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/06301160479774566631" rel="nofollow">Алексей</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1631605008847#c162437391568422301">14 сентября 2021 г., 10:36</a></span></div><p class="comment-content">Приветствую.<br>Подскажите пожалуйста как можно прикрутить русские символы к вашей библиотеке для вывода на экран.<br>Библиотека https://drive.google.com/file/d/1IyxTT7KAcx3IYHRsjigVHP9rQTwVighz/view из статьи https://роботехника18.рф/русский-шрифт-ардуино/ отлично русифицирует дисплеи без кириллицы. Можно как то её функционал добавить в вашу библиотеку? Заранее признателен за помощь.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="162437391568422301" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1895050095"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=162437391568422301">Удалить</a></span></span></div><div class="comment-replies"><div id="c162437391568422301-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c162437391568422301-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c6423337321321247787"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1631772719443#c6423337321321247787">16 сентября 2021 г., 09:11</a></span></div><p class="comment-content">Добрый день!<br>Если не хотите покупать дисплей с русским шрифтом, то можно попробовать. Только нужно сразу учесть, что русификация будет использовать CGROM дисплея, а это всего 8 пользовательских символов. 2-3 из них уже используются в моей библиотеке для вывода символов прокрутки (стрелки вверх и вниз). Да и текст придётся подбирать так, чтобы минимизировать количество уникальных русских букв, отображаемых одновременно. В общем, реализуемо, но это будет большим компромиссом.<br><br>У меня в .cpp файле есть функция write, вызываемая для каждого из печатаемых символов. Я бы сделал русификацию в ней: анализ символа, поиск его индекса в CGROM, если там нет, то создаём... Но это надо ковырять библиотеку LCD_1602_RUS, что из неё подойдёт, а что придётся переписывать.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=6423337321321247787">Удалить</a></span></span></div><div class="comment-replies"><div id="c6423337321321247787-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c6423337321321247787-ra" class="thread-chrome thread-expanded"><div></div><div id="c6423337321321247787-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6423337321321247787" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c6423337321321247787-ce"></div></li></div><div id="c162437391568422301-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="162437391568422301" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c162437391568422301-ce"></div></li><li class="comment" id="c236275811580041936"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1632315865007#c236275811580041936">22 сентября 2021 г., 16:04</a></span></div><p class="comment-content">Владимир, добрый день!<br>Пытаюсь приладить модуль для чтения флешки на чипе CH376S. Информацию и библиотеку для работы с этим модулем взял отсюда https://github.com/djuseeq/Ch376msc#firmware-difference. В глаза бросилась фраза из примеров которую гугл переводит как что то про Морковь лорен и суп который эволюционировал в европпу). Я это к чему... вы не знакомы с творчеством человека по ссылке, хотелось бы вопрос задать по теме, было бы здорово если бы кто нибудь кое что на русском объяснил? <br></p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="236275811580041936" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-41486928"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=236275811580041936">Удалить</a></span></span></div><div class="comment-replies"><div id="c236275811580041936-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c236275811580041936-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c5226857488067502311"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1632606279408#c5226857488067502311">26 сентября 2021 г., 00:44</a></span></div><p class="comment-content">Добрый день!<br>Нет, я с этим не работал.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5226857488067502311">Удалить</a></span></span></div><div class="comment-replies"><div id="c5226857488067502311-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5226857488067502311-ra" class="thread-chrome thread-expanded"><div></div><div id="c5226857488067502311-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5226857488067502311" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5226857488067502311-ce"></div></li></div><div id="c236275811580041936-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="236275811580041936" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c236275811580041936-ce"></div></li><li class="comment" id="c7109978306035643485"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/04369558261980304966" rel="nofollow">stalker</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1633171739310#c7109978306035643485">2 октября 2021 г., 13:48</a></span></div><p class="comment-content">Владимир, доброго дня!<br>Пытаюсь разобраться с printf и printfAt. Как я понял, эти функции из вашей библиотеки работают не со всеми типами данных. Пытаюсь вывести переменную типа float (с плавающей запятой) но ничего не получается.<br>Вот строка программы:<br>lcd.printfAt(0, 1, "%f", effective_value);<br>А целые числа типа int выводятся нормально:<br>lcd.printfAt(0, 2, "%10d", timerCount);<br>Подскажите, может быть я что то не так делаю или все таки не смогу вывести переменную float?<br></p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7109978306035643485" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1335428475"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7109978306035643485">Удалить</a></span></span></div><div class="comment-replies"><div id="c7109978306035643485-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7109978306035643485-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c2942478794491841920"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1633275312085#c2942478794491841920">3 октября 2021 г., 18:35</a></span></div><p class="comment-content">Добрый день!<br>Реализация всех возможностей и форматов vprintf была бы очень тяжелая. Поэтому используемая по умолчанию реализация форматированного вывода в avr-libc не работает с числами с плавающей точкой. Можно попробовать включить поддержку плавающей точки при помощи опций компилятора, но проще воспользоваться функцией dtostrf</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=2942478794491841920">Удалить</a></span></span></div><div class="comment-replies"><div id="c2942478794491841920-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c2942478794491841920-ra" class="thread-chrome thread-expanded"><div></div><div id="c2942478794491841920-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2942478794491841920" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c2942478794491841920-ce"></div></li></div><div id="c7109978306035643485-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7109978306035643485" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7109978306035643485-ce"></div></li><li class="comment" id="c6530988790882105886"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14624954938721645241" rel="nofollow">Владимирыч</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1633529190811#c6530988790882105886">6 октября 2021 г., 17:06</a></span></div><p class="comment-content">Этот комментарий был удален автором.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="6530988790882105886" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin "><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=6530988790882105886">Удалить</a></span></span></div><div class="comment-replies"><div id="c6530988790882105886-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c6530988790882105886-ra" class="thread-chrome thread-expanded"><div></div><div id="c6530988790882105886-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6530988790882105886" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c6530988790882105886-ce"></div></li><li class="comment" id="c7107035317006348262"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/03671644302805509903" rel="nofollow">Ярослав</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1636494536887#c7107035317006348262">10 ноября 2021 г., 00:48</a></span></div><p class="comment-content">Здравствуйте. Возникла проблема при реализации задумки. Подскажите как вывести значение температуры, считываемое с датчика(hdc1080, работает по I2C) возле одного из пунков меню key. <br>Выглядеть должно примерно так: Temp: 32,43C</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7107035317006348262" href="javascript:;">Ответить</a><span class="item-control blog-admin blog-admin pid-1077725177"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=7107035317006348262">Удалить</a></span></span></div><div class="comment-replies"><div id="c7107035317006348262-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c7107035317006348262-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c328347595765820915"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07943437233560370294" rel="nofollow">Владимир</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1636737899038#c328347595765820915">12 ноября 2021 г., 20:24</a></span></div><p class="comment-content">Добрый день!<br>Посмотрите пример Updating_menu_captions.ino. В нём к названиям пунктов меню приписываются значения изменяемых параметров. Вы можете делать так же при каждом измерении температуры.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-304946980"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=328347595765820915">Удалить</a></span></span></div><div class="comment-replies"><div id="c328347595765820915-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c328347595765820915-ra" class="thread-chrome thread-expanded"><div></div><div id="c328347595765820915-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="328347595765820915" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c328347595765820915-ce"></div></li><li class="comment" id="c1179887025133742381"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/03671644302805509903" rel="nofollow">Ярослав</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1637419634976#c1179887025133742381">20 ноября 2021 г., 17:47</a></span></div><p class="comment-content">Спасибо за ответ) Реализовать прошлую задумку вышло, но посчитал это не самым лучшим вариантом. Сделал так, что все показания датчиков находятся на одом экране, а при нажатии кнопки осуществлялся вход в меню. Но настигла вторая проблема- нужен возврат на экран с данными датчиков по бездействию 10 секунд... Не могли бы вы подсказать как это сделать? <br><br>Ниже прикрепляю код<br><br>//библиотеки<br>#include <br>#include <br>#include "ClosedCube_HDC1080.h"<br><br><br><br>LiquidCrystal_I2C_Menu lcd(0x27, 20, 4);<br> ClosedCube_HDC1080 hdc1080;<br><br>// пины энкодера<br>#define pinCLK 2<br>#define pinDT  3<br>#define pinSW  4<br><br>//символы<br>byte t1[8]=<br>{<br>  0b01001,<br>  0b01001,<br>  0b01001,<br>  0b01000,<br>  0b11100,<br>  0b01000,<br>  0b01010,<br>  0b00100<br>};<br><br>byte t2[8]=<br>{<br>  0b01011,<br>  0b01011,<br>  0b01011,<br>  0b01000,<br>  0b11100,<br>  0b01000,<br>  0b01010,<br>  0b00100<br>};<br><br><br>byte h1[8]{<br>  0b00001,<br>  0b00001,<br>  0b00001,<br>  0b00100,<br>  0b01110,<br>  0b11111,<br>  0b11111,<br>  0b01110<br>};<br><br>byte h2[8]{<br>  0b00011,<br>  0b00011,<br>  0b00011,<br>  0b00100,<br>  0b01110,<br>  0b11111,<br>  0b11111,<br>  0b01110<br>};<br><br><br>unsigned long timing;<br><br>// Ключи меню<br>enum {mkBack, mkRoot, mkTemp1, mkDt1, mkNt1, mkTemp2, mkDt2, mkNt2, mkHum1, mkHum2, mkWater, mkWatering, mkTimes, mkLight, mkDay, mkNight,  mkIndexes, mkLuminosity, };<br><br>// Описание меню<br>// структура пункта меню: {ParentKey, Key, Caption, [Handler]}<br>sMenuItem menu[] = <br>{<br>  {mkBack, mkRoot, "Menu"},<br><br>    {mkRoot, mkIndexes,"INDEXES"},<br>    {mkIndexes,mkLuminosity,"Luminosity"},<br>    {mkIndexes,mkBack,"BACK"},<br>    <br>    {mkRoot, mkTemp1, "TEMPERATURE_1"},<br>    {mkTemp1,mkDt1, "DAY_t1"},<br>    {mkTemp1,mkNt1, "NIGHT_t1"},<br>    {mkTemp1,mkBack, "BACK"},<br><br>    <br>    {mkRoot, mkTemp2, "TEMPERATURE_2"},<br>    {mkTemp2,mkDt2, "DAY_t2"},<br>    {mkTemp2,mkNt2, "NIGHT_t2"},<br>    {mkTemp2,mkBack, "BACK"},<br>    <br>    {mkRoot, mkHum1, "HUM_1"},<br>    {mkHum1,mkBack, "BACK"},<br><br>    {mkRoot, mkHum2, "HUM_2"},<br>    {mkHum2,mkBack, "BACK"},<br><br>    {mkRoot, mkWater, "WATERING"},<br>    {mkWater,mkWatering, "TIME"},<br>    {mkWater,mkTimes, "TIMES"},<br>    {mkWater,mkBack, "BACK"},<br><br>    {mkRoot, mkLight,"LIGHT"},<br>    {mkLight, mkDay,"DAY LENGTH"},<br>    {mkLight,mkNight,"NIGHT LENGTH"},<br>    {mkLight,mkBack,"BACK"}<br><br>};<br><br>uint8_t menuLen = sizeof(menu) / sizeof(sMenuItem);<br><br><br><br><br><br>void setup() <br>{ <br>  //запуск<br>  lcd.begin();<br>   lcd.attachEncoder(pinDT, pinCLK, pinSW);<br>    hdc1080.begin(0x40);<br><br>//вывод символов на экран<br>lcd.createChar(3,t1);<br> lcd.createChar(4,t2);<br>  lcd.createChar(5,h1);<br>   lcd.createChar(6,h2);<br>}<br><br><br><br><br>void loop() <br>{<br>uint8_t selectedMenuItem;<br><br> <br><br>//считывание датчиков   <br>float temp1= hdc1080.readTemperature(); <br> float hum1= hdc1080.readHumidity(); <br> <br>//экран ожидания нажатия на кнопку<br>lcd.printAt(0,0,char(3));<br> lcd.printAt(0,1,char(4));<br>  lcd.printAt(11,0,char(5));<br>   lcd.printAt(11,1,char(6));<br><br>lcd.printAt(1,0,"=");<br> lcd.printAt(1,1,"=");<br>  lcd.printAt(12,0,"=");<br>   lcd.printAt(12,1,"=");<br><br>lcd.printAt(8,0,"C");<br> lcd.printAt(18,0,"%");<br><br>if(millis()-timing&gt;=500){<br> timing=millis();<br>  <br> lcd.printAt(3,0,temp1);<br>  lcd.printAt(13,0,hum1);<br>}<br>//если кнопка нажата,перейти в меню<br>if(lcd.getEncoderState()==eButton){<br> selectedMenuItem = lcd.showMenu(menu, menuLen, 1); <br>}<br><br>//если никакие действия в меню не совершаются, выйти на экран ожидания<br> ?????<br>}</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1077725177"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=1179887025133742381">Удалить</a></span></span></div><div class="comment-replies"><div id="c1179887025133742381-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c1179887025133742381-ra" class="thread-chrome thread-expanded"><div></div><div id="c1179887025133742381-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1179887025133742381" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c1179887025133742381-ce"></div></li><li class="comment" id="c5385050017171165710"><div class="avatar-image-container"><img src="./Forum_LiquidCrystal_I2C_Menu_files/blogger_logo_round_35.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/03671644302805509903" rel="nofollow">Ярослав</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html?showComment=1637419741889#c5385050017171165710">20 ноября 2021 г., 17:49</a></span></div><p class="comment-content">инклуды не скопировались, но в коде они есть</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1077725177"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=794788004739538112&amp;postID=5385050017171165710">Удалить</a></span></span></div><div class="comment-replies"><div id="c5385050017171165710-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self" href="javascript:;">Ответы</a></span></span><ol id="c5385050017171165710-ra" class="thread-chrome thread-expanded"><div></div><div id="c5385050017171165710-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5385050017171165710" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c5385050017171165710-ce"></div></li></div><div id="c7107035317006348262-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7107035317006348262" href="javascript:;">Ответить</a></div></ol></div></div><div class="comment-replybox-single" id="c7107035317006348262-ce"></div></li></ol><div id="top-continue" class="continue hidden"><a class="comment-reply" target="_self" href="javascript:;">Добавить комментарий</a></div><div class="comment-replybox-thread" id="top-ce"><iframe allowtransparency="true" class="blogger-iframe-colorize blogger-comment-from-post" frameborder="0" height="194px" id="comment-editor" name="comment-editor" src="./Forum_LiquidCrystal_I2C_Menu_files/comment-iframe.html" width="100%" style="display: block;" data-resized="true"></iframe></div><div class="loadmore hidden" data-post-id="7998652808377710845"><a target="_self">Ещё</a></div></div>
</div>
</div>
<p class="comment-footer">
</p><div class="comment-form">
<a name="comment-form"></a>
<p>
</p>
<a href="https://www.blogger.com/comment-iframe.g?blogID=794788004739538112&amp;postID=7998652808377710845&amp;blogspotRpcToken=9283724" id="comment-editor-src"></a>

<script src="./Forum_LiquidCrystal_I2C_Menu_files/4187278337-comment_from_post_iframe.js.Без названия" type="text/javascript"></script>
<script type="text/javascript">
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html');
    </script>
</div>
<p></p>
<div id="backlinks-container">
<div id="Blog1_backlinks-container">
</div>
</div>
</div>
</div>
<div class="inline-ad">
<script async="" src="./Forum_LiquidCrystal_I2C_Menu_files/f(1).txt"></script>
<!-- tsibrov_main_Blog1_1x1_as -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6077605179194379" data-ad-host="ca-host-pub-1556223355139109" data-ad-host-channel="L0007" data-ad-slot="3565953573" data-ad-format="auto" data-full-width-responsive="true"><iframe id="aswift_0" style="height: 1px !important; max-height: 1px !important; max-width: 1px !important; width: 1px !important;" src="./Forum_LiquidCrystal_I2C_Menu_files/saved_resource.html"><iframe id="google_ads_frame0" src="./Forum_LiquidCrystal_I2C_Menu_files/saved_resource(1).html"></iframe></iframe></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

        </div></div>
      
</div>
<div class="blog-pager" id="blog-pager">
<span id="blog-pager-newer-link">
<a class="blog-pager-newer-link" href="https://tsibrov.blogspot.com/2020/09/ds3231.html" id="Blog1_blog-pager-newer-link" title="Следующее">Следующее</a>
</span>
<span id="blog-pager-older-link">
<a class="blog-pager-older-link" href="https://tsibrov.blogspot.com/2020/06/power-consumption-tips.html" id="Blog1_blog-pager-older-link" title="Предыдущее">Предыдущее</a>
</span>
<a class="home-link" href="./Forum_LiquidCrystal_I2C_Menu_files/saved_resource">Главная страница</a>
</div>
<div class="clear"></div>
<div class="post-feeds">
<div class="feed-links">
Подписаться на:
<a class="feed-link" href="https://tsibrov.blogspot.com/feeds/7998652808377710845/comments/default" target="_blank" type="application/atom+xml">Комментарии к сообщению (Atom)</a>
</div>
</div>
</div></div>
</div>
</div>
<div class="column-left-outer">
<div class="column-left-inner">
<aside>
</aside>
</div>
</div>
<div class="column-right-outer">
<div class="column-right-inner">
<aside>
<div class="sidebar section" id="sidebar-right-1"><div class="widget AdSense" data-version="1" id="AdSense2">
<div class="widget-content">
<script async="" src="./Forum_LiquidCrystal_I2C_Menu_files/f(1).txt"></script>
<!-- tsibrov_sidebar-right-1_AdSense2_1x1_as -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6077605179194379" data-ad-host="ca-host-pub-1556223355139109" data-ad-host-channel="L0001" data-ad-slot="8611009963" data-ad-format="auto" data-full-width-responsive="true"><iframe id="aswift_1" style="height: 1px !important; max-height: 1px !important; max-width: 1px !important; width: 1px !important;" src="./Forum_LiquidCrystal_I2C_Menu_files/saved_resource(2).html"><iframe id="google_ads_frame1" src="./Forum_LiquidCrystal_I2C_Menu_files/saved_resource(3).html"></iframe></iframe></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="clear"></div>
</div>
</div><div class="widget Text" data-version="1" id="Text1">
<h2 class="title">Обо мне</h2>
<div class="widget-content">
<div>Привет!</div><br><div>Меня зовут Владимир. В этом блоге я пишу про Ардуино, различные интересные микросхемы и модули, их подключение и программирование. Надеюсь, вы найдете здесь для себя много полезного и интересного.</div>
</div>
<div class="clear"></div>
</div><div class="widget PopularPosts" data-version="1" id="PopularPosts1">
<h2>Популярные публикации</h2>
<div class="widget-content popular-posts">
<ul>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="https://tsibrov.blogspot.com/2018/06/ad9833.html" target="_blank">
<img alt="" border="0" src="./Forum_LiquidCrystal_I2C_Menu_files/AD9833(1).jpg">
</a>
</div>
<div class="item-title"><a href="https://tsibrov.blogspot.com/2018/06/ad9833.html">Генератор сигналов на AD9833</a></div>
<div class="item-snippet">   AD9833 - это программируемый генератор сигналов с низким энергопотреблением. Позволяет генерировать сигналы с частотой до 12.5МГц синусои...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="https://tsibrov.blogspot.com/2018/11/attiny85-getting-started.html" target="_blank">
<img alt="" border="0" src="./Forum_LiquidCrystal_I2C_Menu_files/attiny85.jpg">
</a>
</div>
<div class="item-title"><a href="https://tsibrov.blogspot.com/2018/11/attiny85-getting-started.html">Знакомство с ATtiny85</a></div>
<div class="item-snippet">   ATtiny85 - это 8-битный AVR микроконтроллер фирмы Atmel, представитель семейства tiny. Микроконтроллеры данного семейства, как следует из...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="https://tsibrov.blogspot.com/2018/07/arduino-as-isp.html" target="_blank">
<img alt="" border="0" src="./Forum_LiquidCrystal_I2C_Menu_files/Arduino As ISP.png">
</a>
</div>
<div class="item-title"><a href="https://tsibrov.blogspot.com/2018/07/arduino-as-isp.html">Arduino as ISP - программатор из Ардуино</a></div>
<div class="item-snippet">    Есть у меня пара идей для будущих публикаций, но в них будет использоваться программатор. Поэтому сегодня я расскажу о том, как преврати...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="https://tsibrov.blogspot.com/2018/10/usbasp-firmware-update.html" target="_blank">
<img alt="" border="0" src="./Forum_LiquidCrystal_I2C_Menu_files/USBasp warning.png">
</a>
</div>
<div class="item-title"><a href="https://tsibrov.blogspot.com/2018/10/usbasp-firmware-update.html">Прошивка USBasp</a></div>
<div class="item-snippet">    Если при использовании USBasp в логе avrdude у вас появляется сообщение  avrdude: warning: cannot set sck period, please check for usbas...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="https://tsibrov.blogspot.com/2019/11/rda5807m-part1.html" target="_blank">
<img alt="" border="0" src="./Forum_LiquidCrystal_I2C_Menu_files/RRD102v2.jpg">
</a>
</div>
<div class="item-title"><a href="https://tsibrov.blogspot.com/2019/11/rda5807m-part1.html">Радио на RDA5807M. Часть 1</a></div>
<div class="item-snippet">        Микросхема RDA5807M - это FM радиоприемник нового поколения с поддержкой RDS/RBDS и цифровым управлением по I2C. Микросхема выполнен...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="https://tsibrov.blogspot.com/2019/02/atmega328p.html" target="_blank">
<img alt="" border="0" src="./Forum_LiquidCrystal_I2C_Menu_files/atmega328_pinout.png">
</a>
</div>
<div class="item-title"><a href="https://tsibrov.blogspot.com/2019/02/atmega328p.html">Обвязка ATmega328P</a></div>
<div class="item-snippet"> Типовая схема включения любого микроконтроллера содержит ряд компонентов и цепей, обеспечивающих его нормальное функционирование. Совокупно...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="https://tsibrov.blogspot.com/2018/02/pullupresistors.html" target="_blank">
<img alt="" border="0" src="./Forum_LiquidCrystal_I2C_Menu_files/Scheme.png">
</a>
</div>
<div class="item-title"><a href="https://tsibrov.blogspot.com/2018/02/pullupresistors.html">Что такое подтягивающий (стягивающий) резистор</a></div>
<div class="item-snippet"> Чтобы ответить на этот вопрос давайте посмотрим на следующую схему:    Мы бы хотели отслеживать нажатие кнопки для выполнения каких-то дейс...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html" target="_blank">
<img alt="" border="0" src="./Forum_LiquidCrystal_I2C_Menu_files/LCI2C_Menu(1).jpg">
</a>
</div>
<div class="item-title"><a href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html">LiquidCrystal_I2C_Menu - библиотека для создания меню на ЖК дисплее и Ардуино. Новые возможности</a></div>
<div class="item-snippet">В одной из прошлых публикаций я писал о своей библиотеке&nbsp;LiquidCrystal_I2C_Ext для создания меню на текстовом LCD дисплее и энкодере вращени...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="https://tsibrov.blogspot.com/2018/01/arduino-text-menu.html" target="_blank">
<img alt="" border="0" src="./Forum_LiquidCrystal_I2C_Menu_files/Arduino_text_menu(1).png">
</a>
</div>
<div class="item-title"><a href="https://tsibrov.blogspot.com/2018/01/arduino-text-menu.html">Текстовое меню на Ардуино</a></div>
<div class="item-snippet">   В данной публикации я хочу поделиться опытом создания текстового меню на Ардуино. Я буду использовать жидкокристаллический I2C дисплей 20...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="https://tsibrov.blogspot.com/2018/02/arduino-power-down.html" target="_blank">
<img alt="" border="0" src="./Forum_LiquidCrystal_I2C_Menu_files/Arduino_Sleep.png">
</a>
</div>
<div class="item-title"><a href="https://tsibrov.blogspot.com/2018/02/arduino-power-down.html">Режимы энергосбережения Ардуино</a></div>
<div class="item-snippet">    Продолжаем тему минимизации энергопотребления Ардуино и теперь пора разобраться в режимах работы МК. Все AVR микроконтроллеры поддержива...</div>
</div>
<div style="clear: both;"></div>
</li>
</ul>
<div class="clear"></div>
</div>
</div><div class="widget BlogArchive" data-version="1" id="BlogArchive1">
<h2>Архив блога</h2>
<div class="widget-content">
<div id="ArchiveList">
<div id="BlogArchive1_ArchiveList">
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        ▼&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2020/">
2020
</a>
<span class="post-count" dir="ltr">(5)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2020/11/">
ноября
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        ▼&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2020/09/">
сентября
</a>
<span class="post-count" dir="ltr">(2)</span>
<ul class="posts">
<li><a href="https://tsibrov.blogspot.com/2020/09/ds3231.html">DS3231 - будильник для Ардуино</a></li>
<li><a href="https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html">LiquidCrystal_I2C_Menu - библиотека для создания м...</a></li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2020/08/">
августа
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2020/01/">
января
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2019/">
2019
</a>
<span class="post-count" dir="ltr">(10)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2019/11/">
ноября
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2019/10/">
октября
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2019/06/">
июня
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2019/05/">
мая
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2019/04/">
апреля
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2019/03/">
марта
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2019/02/">
февраля
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/">
2018
</a>
<span class="post-count" dir="ltr">(18)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/12/">
декабря
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/11/">
ноября
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/10/">
октября
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/09/">
сентября
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/08/">
августа
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/07/">
июля
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/06/">
июня
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/04/">
апреля
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/02/">
февраля
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2018/01/">
января
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2017/">
2017
</a>
<span class="post-count" dir="ltr">(12)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2017/11/">
ноября
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2017/10/">
октября
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2017/09/">
сентября
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2017/08/">
августа
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="https://tsibrov.blogspot.com/2017/07/">
июля
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div>
</div></div>
<table border="0" cellpadding="0" cellspacing="0" class="section-columns columns-2">
<tbody>
<tr>
<td class="first columns-cell">
<div class="sidebar no-items section" id="sidebar-right-2-1"></div>
</td>
<td class="columns-cell">
<div class="sidebar no-items section" id="sidebar-right-2-2"></div>
</td>
</tr>
</tbody>
</table>
<div class="sidebar no-items section" id="sidebar-right-3"></div>
</aside>
</div>
</div>
</div>
<div style="clear: both"></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class="main-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<footer>
<div class="footer-outer">
<div class="footer-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left footer-fauxborder-left">
<div class="fauxborder-right footer-fauxborder-right"></div>
<div class="region-inner footer-inner">
<div class="foot no-items section" id="footer-1"></div>
<table border="0" cellpadding="0" cellspacing="0" class="section-columns columns-2">
<tbody>
<tr>
<td class="first columns-cell">
<div class="foot no-items section" id="footer-2-1"></div>
</td>
<td class="columns-cell">
<div class="foot no-items section" id="footer-2-2"></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class="foot section" id="footer-3" name="Нижний колонтитул"><div class="widget Attribution" data-version="1" id="Attribution1">
<div class="widget-content" style="text-align: center;">
Тема "Простая". Технологии <a href="https://www.blogger.com/" target="_blank">Blogger</a>.
</div>
<div class="clear"></div>
</div></div>
</div>
</div>
<div class="footer-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class="content-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<script type="text/javascript">
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>

<script type="text/javascript" src="./Forum_LiquidCrystal_I2C_Menu_files/2809169260-widgets.js.Без названия"></script>
<script type="text/javascript">
window['__wavt'] = 'AOuZoY6ANnQTMSQFP1bxP9jm6QirnTFO4Q:1637424529099';_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d794788004739538112','//tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html','794788004739538112');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '794788004739538112', 'title': '\u041f\u0440\u043e \u0410\u0440\u0434\u0443\u0438\u043d\u043e \u0438 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e', 'url': 'https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html', 'canonicalUrl': 'https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html', 'homepageUrl': 'https://tsibrov.blogspot.com/', 'searchUrl': 'https://tsibrov.blogspot.com/search', 'canonicalHomepageUrl': 'https://tsibrov.blogspot.com/', 'blogspotFaviconUrl': 'https://tsibrov.blogspot.com/favicon.ico', 'bloggerUrl': 'https://www.blogger.com', 'hasCustomDomain': false, 'httpsEnabled': true, 'enabledCommentProfileImages': true, 'gPlusViewType': 'FILTERED_POSTMOD', 'adultContent': false, 'analyticsAccountNumber': 'UA-125140221-1', 'encoding': 'UTF-8', 'locale': 'ru', 'localeUnderscoreDelimited': 'ru', 'languageDirection': 'ltr', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'isDynamicViewsAvailable': true, 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22\u041f\u0440\u043e \u0410\u0440\u0434\u0443\u0438\u043d\u043e \u0438 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e - Atom\x22 href\x3d\x22https://tsibrov.blogspot.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22\u041f\u0440\u043e \u0410\u0440\u0434\u0443\u0438\u043d\u043e \u0438 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e - RSS\x22 href\x3d\x22https://tsibrov.blogspot.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22\u041f\u0440\u043e \u0410\u0440\u0434\u0443\u0438\u043d\u043e \u0438 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/794788004739538112/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22\u041f\u0440\u043e \u0410\u0440\u0434\u0443\u0438\u043d\u043e \u0438 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e - Atom\x22 href\x3d\x22https://tsibrov.blogspot.com/feeds/7998652808377710845/comments/default\x22 /\x3e\n', 'meTag': '', 'adsenseClientId': 'ca-pub-6077605179194379', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'adsenseHasAds': true, 'adsenseAutoAds': false, 'ieCssRetrofitLinks': '\x3c!--[if IE]\x3e\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22https://www.blogger.com/static/v1/jsbin/403901366-ieretrofit.js\x22\x3e\x3c/script\x3e\n\x3c![endif]--\x3e', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/6f6b6db3d0399fcb', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'disableGComments': true, 'sharing': {'platforms': [{'name': '\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443', 'key': 'link', 'shareMessage': '\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': '\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Facebook', 'target': 'facebook'}, {'name': '\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0431 \u044d\u0442\u043e\u043c \u0432 \u0431\u043b\u043e\u0433\u0435', 'key': 'blogThis', 'shareMessage': '\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0431 \u044d\u0442\u043e\u043c \u0432 \u0431\u043b\u043e\u0433\u0435', 'target': 'blog'}, {'name': 'Twitter', 'key': 'twitter', 'shareMessage': '\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Twitter', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': '\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Pinterest', 'target': 'pinterest'}, {'name': '\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430', 'key': 'email', 'shareMessage': '\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430', 'target': 'email'}], 'disableGooglePlus': true, 'googlePlusShareButtonWidth': 0, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27ru\x27};\x3c/script\x3e'}, 'hasCustomJumpLinkMessage': false, 'jumpLinkMessage': '\u0414\u0430\u043b\u0435\u0435...', 'pageType': 'item', 'postId': '7998652808377710845', 'postImageThumbnailUrl': 'https://1.bp.blogspot.com/-5fQl2ZwaFwQ/X1dlNilTOSI/AAAAAAAABPw/fTG-ielgYIMVvhWUbCqtUiZJ_nUaPEDEQCNcBGAsYHQ/s72-w400-c-h206/LCI2C_Menu.jpg', 'postImageUrl': 'https://1.bp.blogspot.com/-5fQl2ZwaFwQ/X1dlNilTOSI/AAAAAAAABPw/fTG-ielgYIMVvhWUbCqtUiZJ_nUaPEDEQCNcBGAsYHQ/w400-h206/LCI2C_Menu.jpg', 'pageName': 'LiquidCrystal_I2C_Menu - \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043c\u0435\u043d\u044e \u043d\u0430 \u0416\u041a \u0434\u0438\u0441\u043f\u043b\u0435\u0435 \u0438 \u0410\u0440\u0434\u0443\u0438\u043d\u043e. \u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438', 'pageTitle': '\u041f\u0440\u043e \u0410\u0440\u0434\u0443\u0438\u043d\u043e \u0438 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e: LiquidCrystal_I2C_Menu - \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043c\u0435\u043d\u044e \u043d\u0430 \u0416\u041a \u0434\u0438\u0441\u043f\u043b\u0435\u0435 \u0438 \u0410\u0440\u0434\u0443\u0438\u043d\u043e. \u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438', 'metaDescription': ''}}, {'name': 'features', 'data': {'sharing_get_link_dialog': 'true', 'sharing_native': 'false'}}, {'name': 'messages', 'data': {'edit': '\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c', 'linkCopiedToClipboard': '\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430!', 'ok': '\u041e\u041a', 'postLink': '\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435'}}, {'name': 'template', 'data': {'name': 'custom', 'localizedName': '\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e', 'isResponsive': false, 'isAlternateRendering': false, 'isCustom': true, 'variant': 'dark', 'variantId': 'dark'}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'isMobile': false, 'title': 'LiquidCrystal_I2C_Menu - \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043c\u0435\u043d\u044e \u043d\u0430 \u0416\u041a \u0434\u0438\u0441\u043f\u043b\u0435\u0435 \u0438 \u0410\u0440\u0434\u0443\u0438\u043d\u043e. \u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438', 'description': '', 'featuredImage': 'https://1.bp.blogspot.com/-5fQl2ZwaFwQ/X1dlNilTOSI/AAAAAAAABPw/fTG-ielgYIMVvhWUbCqtUiZJ_nUaPEDEQCNcBGAsYHQ/w400-h206/LCI2C_Menu.jpg', 'url': 'https://tsibrov.blogspot.com/2020/09/LiquidCrystal-I2C-Menu.html', 'type': 'item', 'isSingleItem': true, 'isMultipleItems': false, 'isError': false, 'isPage': false, 'isPost': true, 'isHomepage': false, 'isArchive': false, 'isLabelSearch': false, 'postId': 7998652808377710845}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/1775274535-lbx__ru.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/4076883957-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AdSenseView', new _WidgetInfo('AdSense2', 'sidebar-right-1', document.getElementById('AdSense2'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_TextView', new _WidgetInfo('Text1', 'sidebar-right-1', document.getElementById('Text1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_PopularPostsView', new _WidgetInfo('PopularPosts1', 'sidebar-right-1', document.getElementById('PopularPosts1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': '\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\x26hellip;'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', document.getElementById('Attribution1'), {}, 'displayModeFull'));
</script>

<link type="text/css" rel="stylesheet" href="./Forum_LiquidCrystal_I2C_Menu_files/4076883957-lightbox_bundle.css"><script type="text/javascript" src="./Forum_LiquidCrystal_I2C_Menu_files/1775274535-lbx__ru.js.Без названия"></script></body></html>